function createCommonjsModule(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return commonjsRequire(e,null==t?n.path:t)}},n.exports),n.exports}function commonjsRequire(){throw new Error("Error commonjs")}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FloatingUIT4sCore={})}(this,function(e){"use strict";function t(e){return e.split("-")[0]}function n(e){return e.split("-")[1]}function o(e){return["top","bottom"].includes(t(e))?"x":"y"}function i(e){return"y"===e?"height":"width"}function a(e,a,r){let{reference:s,floating:l}=e;const c=s.x+s.width/2-l.width/2,d=s.y+s.height/2-l.height/2,u=o(a),p=i(u),f=s[p]/2-l[p]/2,m="x"===u;let h;switch(t(a)){case"top":h={x:c,y:s.y-l.height};break;case"bottom":h={x:c,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:d};break;case"left":h={x:s.x-l.width,y:d};break;default:h={x:s.x,y:s.y}}switch(n(a)){case"start":h[u]-=f*(r&&m?-1:1);break;case"end":h[u]+=f*(r&&m?-1:1)}return h}function r(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function s(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function l(e,t){var n;void 0===t&&(t={});const{x:o,y:i,platform:a,rects:l,elements:c,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=t,g=r(h),v=c[m?"floating"===f?"reference":"floating":f],y=s(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(v)))||n?v:v.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(c.floating)),boundary:u,rootBoundary:p})),w=s(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===f?{...l.floating,x:o,y:i}:l.reference,offsetParent:await(null==a.getOffsetParent?void 0:a.getOffsetParent(c.floating)),strategy:d}):l[f]);return{top:y.top-w.top+g.top,bottom:w.bottom-y.bottom+g.bottom,left:y.left-w.left+g.left,right:w.right-y.right+g.right}}const c=Math.min,d=Math.max;function u(e,t,n){return d(e,c(t,n))}const p={left:"right",right:"left",bottom:"top",top:"bottom"};function f(e){return e.replace(/left|right|bottom|top/g,e=>p[e])}function m(e,t,a){void 0===a&&(a=!1);const r=n(e),s=o(e),l=i(s);let c="x"===s?r===(a?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=f(c)),{main:c,cross:f(c)}}const h={start:"end",end:"start"};function g(e){return e.replace(/start|end/g,e=>h[e])}const v=["top","right","bottom","left"],y=v.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function w(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function T(e){return v.some(t=>e[t]>=0)}function b(e){return"x"===e?"y":"x"}e.arrow=(e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:a=0}=null!=e?e:{},{x:s,y:l,placement:c,rects:d,platform:p}=t;if(null==n)return{};const f=r(a),m={x:s,y:l},h=o(c),g=i(h),v=await p.getDimensions(n),y="y"===h?"top":"left",w="y"===h?"bottom":"right",T=d.reference[g]+d.reference[h]-m[h]-d.floating[g],b=m[h]-d.reference[h],S=await(null==p.getOffsetParent?void 0:p.getOffsetParent(n)),x=S?"y"===h?S.clientHeight||0:S.clientWidth||0:0,C=T/2-b/2,_=f[y],P=x-v[g]-f[w],k=x/2-v[g]/2+C,I=u(_,k,P);return{data:{[h]:I,centerOffset:k-I}}}})),e.autoPlacement=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(o){var i,a,r,s,c;const{x:d,y:u,rects:p,middlewareData:f,placement:h,platform:v,elements:w}=o,{alignment:T=null,allowedPlacements:b=y,autoAlignment:S=!0,...x}=e,C=function(e,o,i){return(e?[...i.filter(t=>n(t)===e),...i.filter(t=>n(t)!==e)]:i.filter(e=>t(e)===e)).filter(t=>!e||n(t)===e||!!o&&g(t)!==t)}(T,S,b),_=await l(o,x),P=null!=(i=null==(a=f.autoPlacement)?void 0:a.index)?i:0,k=C[P],{main:I,cross:D}=m(k,p,await(null==v.isRTL?void 0:v.isRTL(w.floating)));if(h!==k)return{x:d,y:u,reset:{skip:!1,placement:C[0]}};const A=[_[t(k)],_[I],_[D]],E=[...null!=(r=null==(s=f.autoPlacement)?void 0:s.overflows)?r:[],{placement:k,overflows:A}],M=C[P+1];if(M)return{data:{index:P+1,overflows:E},reset:{skip:!1,placement:M}};const O=E.slice().sort((e,t)=>e.overflows[0]-t.overflows[0]),R=null==(c=O.find(e=>{let{overflows:t}=e;return t.every(e=>e<=0)}))?void 0:c.placement;return{reset:{placement:null!=R?R:O[0].placement}}}}},e.computePosition=(async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=a(c,o,l),p=o,f={};const m=new Set;for(let n=0;n<r.length;n++){const{name:h,fn:g}=r[n];if(m.has(h))continue;const{x:v,y:y,data:w,reset:T}=await g({x:d,y:u,initialPlacement:o,placement:p,strategy:i,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:t}});d=null!=v?v:d,u=null!=y?y:u,f={...f,[h]:{...f[h],...w}},T&&("object"==typeof T&&(T.placement&&(p=T.placement),T.rects&&(c=!0===T.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):T.rects),({x:d,y:u}=a(c,p,l)),!1!==T.skip&&m.add(h)),n=-1)}return{x:d,y:u,placement:p,strategy:i,middlewareData:f}}),e.detectOverflow=l,e.flip=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(n){var o;const{placement:i,middlewareData:a,rects:r,initialPlacement:s,platform:c,elements:d}=n,{mainAxis:u=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",flipAlignment:y=!0,...w}=e,T=t(i),b=[s,...h||(T!==s&&y?function(e){const t=f(e);return[g(e),t,g(t)]}(s):[f(s)])],S=await l(n,w),x=[];let C=(null==(o=a.flip)?void 0:o.overflows)||[];if(u&&x.push(S[T]),p){const{main:e,cross:t}=m(i,r,await(null==c.isRTL?void 0:c.isRTL(d.floating)));x.push(S[e],S[t])}if(C=[...C,{placement:i,overflows:x}],!x.every(e=>e<=0)){var _,P;const e=(null!=(_=null==(P=a.flip)?void 0:P.index)?_:0)+1,t=b[e];if(t)return{data:{index:e,overflows:C},reset:{skip:!1,placement:t}};let n="bottom";switch(v){case"bestFit":{var k;const e=null==(k=C.slice().sort((e,t)=>e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)-t.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0))[0])?void 0:k.placement;e&&(n=e);break}case"initialPlacement":n=s}return{reset:{placement:n}}}return{}}}},e.hide=function(e){let{strategy:t="referenceHidden",...n}=void 0===e?{}:e;return{name:"hide",async fn(e){const{rects:o}=e;switch(t){case"referenceHidden":{const t=w(await l(e,{...n,elementContext:"reference"}),o.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:T(t)}}}case"escaped":{const t=w(await l(e,{...n,altBoundary:!0}),o.floating);return{data:{escapedOffsets:t,escaped:T(t)}}}default:return{}}}}},e.inline=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(n){var i;const{placement:a,elements:l,rects:u,platform:p,strategy:f}=n,{padding:m=2,x:h,y:g}=e,v=s(p.convertOffsetParentRelativeRectToViewportRelativeRect?await p.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u.reference,offsetParent:await(null==p.getOffsetParent?void 0:p.getOffsetParent(l.floating)),strategy:f}):u.reference),y=null!=(i=await(null==p.getClientRects?void 0:p.getClientRects(l.reference)))?i:[],w=r(m);return{reset:{rects:await p.getElementRects({reference:{getBoundingClientRect:function(){var e;if(2===y.length&&y[0].left>y[1].right&&null!=h&&null!=g)return null!=(e=y.find(e=>h>e.left-w.left&&h<e.right+w.right&&g>e.top-w.top&&g<e.bottom+w.bottom))?e:v;if(y.length>=2){if("x"===o(a)){const e=y[0],n=y[y.length-1],o="top"===t(a),i=e.top,r=n.bottom,s=o?e.left:n.left,l=o?e.right:n.right;return{top:i,bottom:r,left:s,right:l,width:l-s,height:r-i,x:s,y:i}}const e="left"===t(a),n=d(...y.map(e=>e.right)),i=c(...y.map(e=>e.left)),r=y.filter(t=>e?t.left===i:t.right===n),s=r[0].top,l=r[r.length-1].bottom;return{top:s,bottom:l,left:i,right:n,width:n-i,height:l-s,x:i,y:s}}return v}},floating:l.floating,strategy:f})}}}}},e.limitShift=function(e){return void 0===e&&(e={}),{options:e,fn(n){const{x:i,y:a,placement:r,rects:s,middlewareData:l}=n,{offset:c=0,mainAxis:d=!0,crossAxis:u=!0}=e,p={x:i,y:a},f=o(r),m=b(f);let h=p[f],g=p[m];const v="function"==typeof c?c({...s,placement:r}):c,y="number"==typeof v?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const e="y"===f?"height":"width",t=s.reference[f]-s.floating[e]+y.mainAxis,n=s.reference[f]+s.reference[e]-y.mainAxis;h<t?h=t:h>n&&(h=n)}if(u){var w,T,S,x;const e="y"===f?"width":"height",n=["top","left"].includes(t(r)),o=s.reference[m]-s.floating[e]+(n&&null!=(w=null==(T=l.offset)?void 0:T[m])?w:0)+(n?0:y.crossAxis),i=s.reference[m]+s.reference[e]+(n?0:null!=(S=null==(x=l.offset)?void 0:x[m])?S:0)-(n?y.crossAxis:0);g<o?g=o:g>i&&(g=i)}return{[f]:h,[m]:g}}}},e.offset=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(i){const{x:a,y:r,placement:s,rects:l,platform:c,elements:d}=i,u=function(e,i,a,r){void 0===r&&(r=!1);const s=t(e),l=n(e),c="x"===o(e),d=["left","top"].includes(s)?-1:1;let u=1;"end"===l&&(u=-1),r&&c&&(u*=-1);const p="function"==typeof a?a({...i,placement:e}):a,{mainAxis:f,crossAxis:m}="number"==typeof p?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};return c?{x:m*u,y:f*d}:{x:f*d,y:m*u}}(s,l,e,await(null==c.isRTL?void 0:c.isRTL(d.floating)));return{x:a+u.x,y:r+u.y,data:u}}}},e.rectToClientRect=s,e.shift=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(n){const{x:i,y:a,placement:r}=n,{mainAxis:s=!0,crossAxis:c=!1,limiter:d={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...p}=e,f={x:i,y:a},m=await l(n,p),h=o(t(r)),g=b(h);let v=f[h],y=f[g];if(s){const e="y"===h?"bottom":"right";v=u(v+m["y"===h?"top":"left"],v,v-m[e])}if(c){const e="y"===g?"bottom":"right";y=u(y+m["y"===g?"top":"left"],y,y-m[e])}const w=d.fn({...n,[h]:v,[g]:y});return{...w,data:{x:w.x-i,y:w.y-a}}}}},e.size=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(o){const{placement:i,rects:a,platform:r,elements:s}=o,{apply:c,...u}=e,p=await l(o,u),f=t(i),m=n(i);let h,g;"top"===f||"bottom"===f?(h=f,g=m===(await(null==r.isRTL?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(g=f,h="end"===m?"top":"bottom");const v=d(p.left,0),y=d(p.right,0),w=d(p.top,0),T=d(p.bottom,0),b={height:a.floating.height-(["left","right"].includes(i)?2*(0!==w||0!==T?w+T:d(p.top,p.bottom)):p[h]),width:a.floating.width-(["top","bottom"].includes(i)?2*(0!==v||0!==y?v+y:d(p.left,p.right)):p[g])};return null==c||c({...b,...a}),{reset:{rects:!0}}}}},Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@floating-ui/core")):"function"==typeof define&&define.amd?define(["exports","@floating-ui/core"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FloatingUIT4sDOM={},e.FloatingUIT4sCore)}(this,function(e,t){"use strict";function n(e){return"[object Window]"===(null==e?void 0:e.toString())}function o(e){if(null==e)return window;if(!n(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function i(e){return o(e).getComputedStyle(e)}function a(e){return n(e)?"":e?(e.nodeName||"").toLowerCase():""}function r(e){return e instanceof o(e).HTMLElement}function s(e){return e instanceof o(e).Element}function l(e){return e instanceof o(e).ShadowRoot||e instanceof ShadowRoot}function c(e){const{overflow:t,overflowX:n,overflowY:o}=i(e);return/auto|scroll|overlay|hidden/.test(t+o+n)}function d(e){return["table","td","th"].includes(a(e))}function u(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=i(e);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||t&&"filter"===n.willChange||t&&!!n.filter&&"none"!==n.filter}const p=Math.min,f=Math.max,m=Math.round;function h(e,t){void 0===t&&(t=!1);const n=e.getBoundingClientRect();let o=1,i=1;return t&&r(e)&&(o=e.offsetWidth>0&&m(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&m(n.height)/e.offsetHeight||1),{width:n.width/o,height:n.height/i,top:n.top/i,right:n.right/o,bottom:n.bottom/i,left:n.left/o,x:n.left/o,y:n.top/i}}function g(e){return(t=e,(t instanceof o(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function v(e){return n(e)?{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function y(e){return h(g(e)).left+v(e).scrollLeft}function w(e){return"html"===a(e)?e:e.assignedSlot||e.parentNode||(l(e)?e.host:null)||g(e)}function T(e){return r(e)&&"fixed"!==getComputedStyle(e).position?e.offsetParent:null}function b(e){const t=o(e);let n=T(e);for(;n&&d(n)&&"static"===getComputedStyle(n).position;)n=T(n);return n&&("html"===a(n)||"body"===a(n)&&"static"===getComputedStyle(n).position&&!u(n))?t:n||function(e){let t=w(e);for(l(t)&&(t=t.host);r(t)&&!["html","body"].includes(a(t));){if(u(t))return t;t=t.parentNode}return null}(e)||t}function S(e){if(r(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=h(e);return{width:t.width,height:t.height}}function x(e,t){var n;void 0===t&&(t=[]);const i=function e(t){return["html","body","#document"].includes(a(t))?t.ownerDocument.body:r(t)&&c(t)?t:e(w(t))}(e),s=i===(null==(n=e.ownerDocument)?void 0:n.body),l=o(i),d=s?[l].concat(l.visualViewport||[],c(i)?i:[]):i,u=t.concat(d);return s?u:u.concat(x(w(d)))}function C(e,n){return"viewport"===n?t.rectToClientRect(function(e){const t=o(e),n=g(e),i=t.visualViewport;let a=n.clientWidth,r=n.clientHeight,s=0,l=0;return i&&(a=i.width,r=i.height,Math.abs(t.innerWidth/i.scale-i.width)<.01&&(s=i.offsetLeft,l=i.offsetTop)),{width:a,height:r,x:s,y:l}}(e)):s(n)?function(e){const t=h(e),n=t.top+e.clientTop,o=t.left+e.clientLeft;return{top:n,left:o,x:o,y:n,right:o+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}(n):t.rectToClientRect(function(e){var t;const n=g(e),o=v(e),a=null==(t=e.ownerDocument)?void 0:t.body,r=f(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=f(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let l=-o.scrollLeft+y(e);const c=-o.scrollTop;return"rtl"===i(a||n).direction&&(l+=f(n.clientWidth,a?a.clientWidth:0)-r),{width:r,height:s,x:l,y:c}}(g(e)))}function _(e){const t=x(w(e)),n=["absolute","fixed"].includes(i(e).position)&&r(e)?b(e):e;return s(n)?t.filter(e=>s(e)&&function(e,t){const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&l(n)){let n=t;do{if(n&&e===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(e,n)&&"body"!==a(e)):[]}const P={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o}=e;const i=[..."clippingAncestors"===n?_(t):[].concat(n),o],a=i[0],r=i.reduce((e,n)=>{const o=C(t,n);return e.top=f(o.top,e.top),e.right=p(o.right,e.right),e.bottom=p(o.bottom,e.bottom),e.left=f(o.left,e.left),e},C(t,a));return{width:r.right-r.left,height:r.bottom-r.top,x:r.left,y:r.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:o}=e;const i=r(n),s=g(n);if(n===s)return t;let l={scrollLeft:0,scrollTop:0};const d={x:0,y:0};if((i||!i&&"fixed"!==o)&&(("body"!==a(n)||c(s))&&(l=v(n)),r(n))){const e=h(n,!0);d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}return{...t,x:t.x-l.scrollLeft+d.x,y:t.y-l.scrollTop+d.y}},isElement:s,getDimensions:S,getOffsetParent:b,getDocumentElement:g,getElementRects:e=>{let{reference:t,floating:n,strategy:o}=e;return{reference:function(e,t,n){const o=r(t),i=g(t),s=h(e,o&&function(e){const t=h(e);return m(t.width)!==e.offsetWidth||m(t.height)!==e.offsetHeight}(t));let l={scrollLeft:0,scrollTop:0};const d={x:0,y:0};if(o||!o&&"fixed"!==n)if(("body"!==a(t)||c(i))&&(l=v(t)),r(t)){const e=h(t,!0);d.x=e.x+t.clientLeft,d.y=e.y+t.clientTop}else i&&(d.x=y(i));return{x:s.left+l.scrollLeft-d.x,y:s.top+l.scrollTop-d.y,width:s.width,height:s.height}}(t,b(n),o),floating:{...S(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===i(e).direction};Object.defineProperty(e,"arrow",{enumerable:!0,get:function(){return t.arrow}}),Object.defineProperty(e,"autoPlacement",{enumerable:!0,get:function(){return t.autoPlacement}}),Object.defineProperty(e,"detectOverflow",{enumerable:!0,get:function(){return t.detectOverflow}}),Object.defineProperty(e,"flip",{enumerable:!0,get:function(){return t.flip}}),Object.defineProperty(e,"hide",{enumerable:!0,get:function(){return t.hide}}),Object.defineProperty(e,"inline",{enumerable:!0,get:function(){return t.inline}}),Object.defineProperty(e,"limitShift",{enumerable:!0,get:function(){return t.limitShift}}),Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return t.offset}}),Object.defineProperty(e,"shift",{enumerable:!0,get:function(){return t.shift}}),Object.defineProperty(e,"size",{enumerable:!0,get:function(){return t.size}}),e.autoUpdate=function(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:r=!0,animationFrame:l=!1}=o;let c=!1;const d=i&&!l,u=a&&!l,p=r&&!l,f=d||u?[...s(e)?x(e):[],...x(t)]:[];f.forEach(e=>{d&&e.addEventListener("scroll",n,{passive:!0}),u&&e.addEventListener("resize",n)});let m,g=null;p&&(g=new ResizeObserver(n),s(e)&&g.observe(e),g.observe(t));let v=l?h(e):null;return l&&function t(){if(c)return;const o=h(e);!v||o.x===v.x&&o.y===v.y&&o.width===v.width&&o.height===v.height||n(),v=o,m=requestAnimationFrame(t)}(),()=>{var e;c=!0,f.forEach(e=>{d&&e.removeEventListener("scroll",n),u&&e.removeEventListener("resize",n)}),null==(e=g)||e.disconnect(),g=null,l&&cancelAnimationFrame(m)}},e.computePosition=((e,n,o)=>t.computePosition(e,n,{platform:P,...o})),e.getOverflowAncestors=x,Object.defineProperty(e,"__esModule",{value:!0})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jQuery_T4NT"],e):"object"==typeof module&&module.exports?module.exports=e(require("jQuery_T4NT")):jQuery&&!jQuery.fn.hoverIntent&&e(jQuery)}(function(e){"use strict";function t(e){o=e.pageX,i=e.pageY}function n(e){return"function"==typeof e}var o,i,a={interval:100,sensitivity:6,timeout:0},r=0,s=function(e,n,a,r){if(Math.sqrt((a.pX-o)*(a.pX-o)+(a.pY-i)*(a.pY-i))<r.sensitivity)return n.off(a.event,t),delete a.timeoutId,a.isActive=!0,e.pageX=o,e.pageY=i,delete a.pX,delete a.pY,r.over.apply(n[0],[e]);a.pX=o,a.pY=i,a.timeoutId=setTimeout(function(){s(e,n,a,r)},r.interval)};e.fn.hoverIntent=function(o,i,l){var c=r++,d=e.extend({},a);function u(n){var o=e.extend({},n),i=e(this),a=i.data("hoverIntent");a||i.data("hoverIntent",a={});var r=a[c];r||(a[c]=r={id:c}),r.timeoutId&&(r.timeoutId=clearTimeout(r.timeoutId));var l=r.event="mousemove.hoverIntent.hoverIntent"+c;if("mouseenter"===n.type){if(r.isActive)return;r.pX=o.pageX,r.pY=o.pageY,i.off(l,t).on(l,t),r.timeoutId=setTimeout(function(){s(o,i,r,d)},d.interval)}else{if(!r.isActive)return;i.off(l,t),r.timeoutId=setTimeout(function(){!function(e,t,n,o){var i=t.data("hoverIntent");i&&delete i[n.id],o.apply(t[0],[e])}(o,i,r,d.out)},d.timeout)}}return e.isPlainObject(o)?n((d=e.extend(d,o)).out)||(d.out=d.over):d=n(i)?e.extend(d,{over:o,out:i,selector:l}):e.extend(d,{over:o,out:o,selector:i}),this.on({"mouseenter.hoverIntent":u,"mouseleave.hoverIntent":u},d.selector)}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(e,t,n,o){var i={features:null,bind:function(e,t,n,o){var i=(o?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[i](t[a],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){i.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(i.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var o=e.length;o--;)if(e[o][n]===t)return o;return-1},extend:function(e,t,n){for(var o in t)if(t.hasOwnProperty(o)){if(n&&e.hasOwnProperty(o))continue;e[o]=t[o]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(i.features)return i.features;var e=i.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!n.pointerEvent){var o=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);a&&a.length>0&&(a=parseInt(a[1],10))>=1&&a<8&&(n.isOldIOSPhone=!0)}var r=o.match(/Android\s([0-9\.]*)/),s=r?r[1]:0;(s=parseFloat(s))>=1&&(s<4.4&&(n.isOldAndroid=!0),n.androidVersion=s),n.isMobileOpera=/opera mini|opera mobi/i.test(o)}for(var l,c,d=["transform","perspective","animationName"],u=["","webkit","Moz","ms","O"],p=0;p<4;p++){t=u[p];for(var f=0;f<3;f++)l=d[f],c=t+(t?l.charAt(0).toUpperCase()+l.slice(1):l),!n[l]&&c in e&&(n[l]=c);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var m=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-m)),o=window.setTimeout(function(){e(t+n)},n);return m=t+n,o},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=n,n}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,n,o){t=t.split(" ");for(var i,a=(o?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(i=t[s])if("object"==typeof n&&n.handleEvent){if(o){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=r;e[a]("on"+i,n["oldIE"+i])}else e[a]("on"+i,n)});var a=this,r={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};i.extend(r,o);var s,l,c,d,u,p,f,m,h,g,v,y,w,T,b,S,x,C,_,P,k,I,D,A,E,M,O,R,$,L,F,N,z,j,q,U,H,W,B,Z,G,V,K,Y,X,Q,J,ee,te,ne,oe,ie,ae,re,se,le,ce={x:0,y:0},de={x:0,y:0},ue={x:0,y:0},pe={},fe=0,me={},he={x:0,y:0},ge=0,ve=!0,ye=[],we={},Te=!1,be=function(e,t){i.extend(a,t.publicMethods),ye.push(e)},Se=function(e){var t=qt();return e>t-1?e-t:e<0?t+e:e},xe={},Ce=function(e,t){return xe[e]||(xe[e]=[]),xe[e].push(t)},_e=function(e){var t=xe[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<t.length;o++)t[o].apply(a,n)}},Pe=function(){return(new Date).getTime()},ke=function(e){re=e,a.bg.style.opacity=e*r.bgOpacity},Ie=function(e,t,n,o,i){(!Te||i&&i!==a.currItem)&&(o/=i?i.fitRatio:a.currItem.fitRatio),e[I]=y+t+"px, "+n+"px"+w+" scale("+o+")"},De=function(e){te&&(e&&(g>a.currItem.fitRatio?Te||(Yt(a.currItem,!1,!0),Te=!0):Te&&(Yt(a.currItem),Te=!1)),Ie(te,ue.x,ue.y,g))},Ae=function(e){e.container&&Ie(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Ee=function(e,t){t[I]=y+e+"px, 0px"+w},Me=function(e,t){if(!r.loop&&t){var n=d+(he.x*fe-e)/he.x,o=Math.round(e-dt.x);(n<0&&o>0||n>=qt()-1&&o<0)&&(e=dt.x+o*r.mainScrollEndFriction)}dt.x=e,Ee(e,u)},Oe=function(e,t){var n=ut[e]-me[e];return de[e]+ce[e]+n-n*(t/v)},Re=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},$e=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Le=null,Fe=function(){Le&&(i.unbind(document,"mousemove",Fe),i.addClass(e,"pswp--has_mouse"),r.mouseUsed=!0,_e("mouseUsed")),Le=setTimeout(function(){Le=null},100)},Ne=function(e,t){var n=Zt(a.currItem,pe,e);return t&&(ee=n),n},ze=function(e){return e||(e=a.currItem),e.initialZoomLevel},je=function(e){return e||(e=a.currItem),e.w>0?r.maxSpreadZoom:1},qe=function(e,t,n,o){return o===a.currItem.initialZoomLevel?(n[e]=a.currItem.initialPosition[e],!0):(n[e]=Oe(e,o),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Ue=function(e){var t="";r.escKey&&27===e.keyCode?t="close":r.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},He=function(e){e&&(V||G||ne||H)&&(e.preventDefault(),e.stopPropagation())},We=function(){a.setScrollOffset(0,i.getScrollY())},Be={},Ze=0,Ge=function(e){Be[e]&&(Be[e].raf&&M(Be[e].raf),Ze--,delete Be[e])},Ve=function(e){Be[e]&&Ge(e),Be[e]||(Ze++,Be[e]={})},Ke=function(){for(var e in Be)Be.hasOwnProperty(e)&&Ge(e)},Ye=function(e,t,n,o,i,a,r){var s,l=Pe();Ve(e);var c=function(){if(Be[e]){if((s=Pe()-l)>=o)return Ge(e),a(n),void(r&&r());a((n-t)*i(s/o)+t),Be[e].raf=E(c)}};c()},Xe={shout:_e,listen:Ce,viewportSize:pe,options:r,isMainScrollAnimating:function(){return ne},getZoomLevel:function(){return g},getCurrentIndex:function(){return d},isDragging:function(){return B},isZooming:function(){return Q},setScrollOffset:function(e,t){me.x=e,L=me.y=t,_e("updateScrollOffset",me)},applyZoomPan:function(e,t,n,o){ue.x=t,ue.y=n,g=e,De(o)},init:function(){if(!s&&!l){var n;a.framework=i,a.template=e,a.bg=i.getChildByClass(e,"pswp__bg"),O=e.className,s=!0,F=i.detectFeatures(),E=F.raf,M=F.caf,I=F.transform,$=F.oldIE,a.scrollWrap=i.getChildByClass(e,"pswp__scroll-wrap"),a.container=i.getChildByClass(a.scrollWrap,"pswp__container"),u=a.container.style,a.itemHolders=S=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],S[0].el.style.display=S[2].el.style.display="none",function(){if(I){var t=F.perspective&&!A;return y="translate"+(t?"3d(":"("),void(w=F.perspective?", 0px)":")")}I="left",i.addClass(e,"pswp--ie"),Ee=function(e,t){t.left=e+"px"},Ae=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,o=t*e.w,i=t*e.h;n.width=o+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},De=function(){if(te){var e=te,t=a.currItem,n=t.fitRatio>1?1:t.fitRatio,o=n*t.w,i=n*t.h;e.width=o+"px",e.height=i+"px",e.left=ue.x+"px",e.top=ue.y+"px"}}}(),h={resize:a.updateSize,orientationchange:function(){clearTimeout(N),N=setTimeout(function(){pe.x!==a.scrollWrap.clientWidth&&a.updateSize()},500)},scroll:We,keydown:Ue,click:He};var o=F.isOldIOSPhone||F.isOldAndroid||F.isMobileOpera;for(F.animationName&&F.transform&&!o||(r.showAnimationDuration=r.hideAnimationDuration=0),n=0;n<ye.length;n++)a["init"+ye[n]]();t&&(a.ui=new t(a,i)).init(),_e("firstUpdate"),d=d||r.index||0,(isNaN(d)||d<0||d>=qt())&&(d=0),a.currItem=jt(d),(F.isOldIOSPhone||F.isOldAndroid)&&(ve=!1),e.setAttribute("aria-hidden","false"),r.modal&&(ve?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),void 0===L&&(_e("initialLayout"),L=R=i.getScrollY());var c="pswp--open ";for(r.mainClass&&(c+=r.mainClass+" "),r.showHideOpacity&&(c+="pswp--animate_opacity "),c+=A?"pswp--touch":"pswp--notouch",c+=F.animationName?" pswp--css_animation":"",c+=F.svg?" pswp--svg":"",i.addClass(e,c),a.updateSize(),p=-1,ge=null,n=0;n<3;n++)Ee((n+p)*he.x,S[n].el.style);$||i.bind(a.scrollWrap,m,a),Ce("initialZoomInEnd",function(){a.setContent(S[0],d-1),a.setContent(S[2],d+1),S[0].el.style.display=S[2].el.style.display="block",r.focus&&e.focus(),i.bind(document,"keydown",a),F.transform&&i.bind(a.scrollWrap,"click",a),r.mouseUsed||i.bind(document,"mousemove",Fe),i.bind(window,"resize scroll orientationchange",a),_e("bindEvents")}),a.setContent(S[1],d),a.updateCurrItem(),_e("afterInit"),ve||(T=setInterval(function(){Ze||B||Q||g!==a.currItem.initialZoomLevel||a.updateSize()},1e3)),i.addClass(e,"pswp--visible")}},close:function(){s&&(s=!1,l=!0,_e("close"),i.unbind(window,"resize scroll orientationchange",a),i.unbind(window,"scroll",h.scroll),i.unbind(document,"keydown",a),i.unbind(document,"mousemove",Fe),F.transform&&i.unbind(a.scrollWrap,"click",a),B&&i.unbind(window,f,a),clearTimeout(N),_e("unbindEvents"),Ut(a.currItem,null,!0,a.destroy))},destroy:function(){_e("destroy"),Lt&&clearTimeout(Lt),e.setAttribute("aria-hidden","true"),e.className=O,T&&clearInterval(T),i.unbind(a.scrollWrap,m,a),i.unbind(window,"scroll",a),mt(),Ke(),xe=null},panTo:function(e,t,n){n||(e>ee.min.x?e=ee.min.x:e<ee.max.x&&(e=ee.max.x),t>ee.min.y?t=ee.min.y:t<ee.max.y&&(t=ee.max.y)),ue.x=e,ue.y=t,De()},handleEvent:function(e){e=e||window.event,h[e.type]&&h[e.type](e)},goTo:function(e){var t=(e=Se(e))-d;ge=t,d=e,a.currItem=jt(d),fe-=t,Me(he.x*fe),Ke(),ne=!1,a.updateCurrItem()},next:function(){a.goTo(d+1)},prev:function(){a.goTo(d-1)},updateCurrZoomItem:function(e){if(e&&_e("beforeChange",0),S[1].el.children.length){var t=S[1].el.children[0];te=i.hasClass(t,"pswp__zoom-wrap")?t.style:null}else te=null;ee=a.currItem.bounds,v=g=a.currItem.initialZoomLevel,ue.x=ee.center.x,ue.y=ee.center.y,e&&_e("afterChange")},invalidateCurrItems:function(){b=!0;for(var e=0;e<3;e++)S[e].item&&(S[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ge){var t,n=Math.abs(ge);if(!(e&&n<2)){a.currItem=jt(d),Te=!1,_e("beforeChange",ge),n>=3&&(p+=ge+(ge>0?-3:3),n=3);for(var o=0;o<n;o++)ge>0?(t=S.shift(),S[2]=t,Ee((++p+2)*he.x,t.el.style),a.setContent(t,d-n+o+1+1)):(t=S.pop(),S.unshift(t),Ee(--p*he.x,t.el.style),a.setContent(t,d+n-o-1-1));if(te&&1===Math.abs(ge)){var i=jt(x);i.initialZoomLevel!==g&&(Zt(i,pe),Yt(i),Ae(i))}ge=0,a.updateCurrZoomItem(),x=d,_e("afterChange")}}},updateSize:function(t){if(!ve&&r.modal){var n=i.getScrollY();if(L!==n&&(e.style.top=n+"px",L=n),!t&&we.x===window.innerWidth&&we.y===window.innerHeight)return;we.x=window.innerWidth,we.y=window.innerHeight,e.style.height=we.y+"px"}if(pe.x=a.scrollWrap.clientWidth,pe.y=a.scrollWrap.clientHeight,We(),he.x=pe.x+Math.round(pe.x*r.spacing),he.y=pe.y,Me(he.x*fe),_e("beforeResize"),void 0!==p){for(var o,s,l,c=0;c<3;c++)o=S[c],Ee((c+p)*he.x,o.el.style),l=d+c-1,r.loop&&qt()>2&&(l=Se(l)),(s=jt(l))&&(b||s.needsUpdate||!s.bounds)?(a.cleanSlide(s),a.setContent(o,l),1===c&&(a.currItem=s,a.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===o.index&&l>=0&&a.setContent(o,l),s&&s.container&&(Zt(s,pe),Yt(s),Ae(s));b=!1}v=g=a.currItem.initialZoomLevel,(ee=a.currItem.bounds)&&(ue.x=ee.center.x,ue.y=ee.center.y,De(!0)),_e("resize")},zoomTo:function(e,t,n,o,a){t&&(v=g,ut.x=Math.abs(t.x)-ue.x,ut.y=Math.abs(t.y)-ue.y,Re(de,ue));var r=Ne(e,!1),s={};qe("x",r,s,e),qe("y",r,s,e);var l=g,c=ue.x,d=ue.y;$e(s);var u=function(t){1===t?(g=e,ue.x=s.x,ue.y=s.y):(g=(e-l)*t+l,ue.x=(s.x-c)*t+c,ue.y=(s.y-d)*t+d),a&&a(t),De(1===t)};n?Ye("customZoomTo",0,1,n,o||i.easing.sine.inOut,u):u(1)}},Qe={},Je={},et={},tt={},nt={},ot=[],it={},at=[],rt={},st=0,lt={x:0,y:0},ct=0,dt={x:0,y:0},ut={x:0,y:0},pt={x:0,y:0},ft=function(e,t){return rt.x=Math.abs(e.x-t.x),rt.y=Math.abs(e.y-t.y),Math.sqrt(rt.x*rt.x+rt.y*rt.y)},mt=function(){K&&(M(K),K=null)},ht=function(){B&&(K=E(ht),Dt())},gt=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:gt(e.parentNode,t))},vt={},yt=function(e,t){return vt.prevent=!gt(e.target,r.isClickableElement),_e("preventDragEvent",e,t,vt),vt.prevent},wt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Tt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},bt=function(){var e=ue.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(pe.y/2))},St={},xt={},Ct=[],_t=function(e){for(;Ct.length>0;)Ct.pop();return D?(le=0,ot.forEach(function(e){0===le?Ct[0]=e:1===le&&(Ct[1]=e),le++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Ct[0]=wt(e.touches[0],St),e.touches.length>1&&(Ct[1]=wt(e.touches[1],xt))):(St.x=e.pageX,St.y=e.pageY,St.id="",Ct[0]=St),Ct},Pt=function(e,t){var n,o,i,s,l=ue[e]+t[e],c=t[e]>0,d=dt.x+t.x,u=dt.x-it.x;return n=l>ee.min[e]||l<ee.max[e]?r.panEndFriction:1,l=ue[e]+t[e]*n,!r.allowPanToNext&&g!==a.currItem.initialZoomLevel||(te?"h"!==oe||"x"!==e||G||(c?(l>ee.min[e]&&(n=r.panEndFriction,ee.min[e],o=ee.min[e]-de[e]),(o<=0||u<0)&&qt()>1?(s=d,u<0&&d>it.x&&(s=it.x)):ee.min.x!==ee.max.x&&(i=l)):(l<ee.max[e]&&(n=r.panEndFriction,ee.max[e],o=de[e]-ee.max[e]),(o<=0||u>0)&&qt()>1?(s=d,u>0&&d<it.x&&(s=it.x)):ee.min.x!==ee.max.x&&(i=l))):s=d,"x"!==e)?void(ne||Y||g>a.currItem.fitRatio&&(ue[e]+=t[e]*n)):(void 0!==s&&(Me(s,!0),Y=s!==it.x),ee.min.x!==ee.max.x&&(void 0!==i?ue.x=i:Y||(ue.x+=t.x*n)),void 0!==s)},kt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(zt)return void e.preventDefault();if(!W||"mousedown"!==e.type){if(yt(e,!0)&&e.preventDefault(),_e("pointerDown"),D){var t=i.arraySearch(ot,e.pointerId,"id");t<0&&(t=ot.length),ot[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=_t(e),o=n.length;X=null,Ke(),B&&1!==o||(B=ie=!0,i.bind(window,f,a),U=se=ae=H=Y=V=Z=G=!1,oe=null,_e("firstTouchStart",n),Re(de,ue),ce.x=ce.y=0,Re(tt,n[0]),Re(nt,tt),it.x=he.x*fe,at=[{x:tt.x,y:tt.y}],j=z=Pe(),Ne(g,!0),mt(),ht()),!Q&&o>1&&!ne&&!Y&&(v=g,G=!1,Q=Z=!0,ce.y=ce.x=0,Re(de,ue),Re(Qe,n[0]),Re(Je,n[1]),Tt(Qe,Je,pt),ut.x=Math.abs(pt.x)-ue.x,ut.y=Math.abs(pt.y)-ue.y,J=ft(Qe,Je))}}},It=function(e){if(e.preventDefault(),D){var t=i.arraySearch(ot,e.pointerId,"id");if(t>-1){var n=ot[t];n.x=e.pageX,n.y=e.pageY}}if(B){var o=_t(e);if(oe||V||Q)X=o;else if(dt.x!==he.x*fe)oe="h";else{var a=Math.abs(o[0].x-tt.x)-Math.abs(o[0].y-tt.y);Math.abs(a)>=10&&(oe=a>0?"h":"v",X=o)}}},Dt=function(){if(X){var e=X.length;if(0!==e)if(Re(Qe,X[0]),et.x=Qe.x-tt.x,et.y=Qe.y-tt.y,Q&&e>1){if(tt.x=Qe.x,tt.y=Qe.y,!et.x&&!et.y&&function(e,t){return e.x===t.x&&e.y===t.y}(X[1],Je))return;Re(Je,X[1]),G||(G=!0,_e("zoomGestureStarted"));var t=ft(Qe,Je),n=Rt(t);n>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(se=!0);var o=1,i=ze(),s=je();if(n<i)if(r.pinchToClose&&!se&&v<=a.currItem.initialZoomLevel){var l=1-(i-n)/(i/1.2);ke(l),_e("onPinchClose",l),ae=!0}else(o=(i-n)/i)>1&&(o=1),n=i-o*(i/3);else n>s&&((o=(n-s)/(6*i))>1&&(o=1),n=s+o*i);o<0&&(o=0),Tt(Qe,Je,lt),ce.x+=lt.x-pt.x,ce.y+=lt.y-pt.y,Re(pt,lt),ue.x=Oe("x",n),ue.y=Oe("y",n),U=n>g,g=n,De()}else{if(!oe)return;if(ie&&(ie=!1,Math.abs(et.x)>=10&&(et.x-=X[0].x-nt.x),Math.abs(et.y)>=10&&(et.y-=X[0].y-nt.y)),tt.x=Qe.x,tt.y=Qe.y,0===et.x&&0===et.y)return;if("v"===oe&&r.closeOnVerticalDrag&&"fit"===r.scaleMode&&g===a.currItem.initialZoomLevel){ce.y+=et.y,ue.y+=et.y;var c=bt();return H=!0,_e("onVerticalDrag",c),ke(c),void De()}(function(e,t,n){if(e-j>50){var o=at.length>2?at.shift():{};o.x=t,o.y=n,at.push(o),j=e}})(Pe(),Qe.x,Qe.y),V=!0,ee=a.currItem.bounds,Pt("x",et)||(Pt("y",et),$e(ue),De())}}},At=function(e){if(F.isOldAndroid){if(W&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(W),W=setTimeout(function(){W=0},600))}var t;if(_e("pointerUp"),yt(e,!1)&&e.preventDefault(),D){var n=i.arraySearch(ot,e.pointerId,"id");n>-1&&(t=ot.splice(n,1)[0],navigator.msPointerEnabled?(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")):t.type=e.pointerType||"mouse")}var o,s=_t(e),l=s.length;if("mouseup"===e.type&&(l=0),2===l)return X=null,!0;1===l&&Re(nt,s[0]),0!==l||oe||ne||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),_e("touchRelease",e,t));var c=-1;if(0===l&&(B=!1,i.unbind(window,f,a),mt(),Q?c=0:-1!==ct&&(c=Pe()-ct)),ct=1===l?Pe():-1,o=-1!==c&&c<150?"zoom":"swipe",Q&&l<2&&(Q=!1,1===l&&(o="zoomPointerUp"),_e("zoomGestureEnded")),X=null,V||G||ne||H)if(Ke(),q||(q=Et()),q.calculateSwipeSpeed("x"),H)if(bt()<r.verticalDragRange)a.close();else{var d=ue.y,u=re;Ye("verticalDrag",0,1,300,i.easing.cubic.out,function(e){ue.y=(a.currItem.initialPosition.y-d)*e+d,ke((1-u)*e+u),De()}),_e("onVerticalDrag",1)}else{if((Y||ne)&&0===l){if(Ot(o,q))return;o="zoomPointerUp"}if(!ne)return"swipe"!==o?void $t():void(!Y&&g>a.currItem.fitRatio&&Mt(q))}},Et=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(o){at.length>1?(e=Pe()-j+50,t=at[at.length-2][o]):(e=Pe()-z,t=nt[o]),n.lastFlickOffset[o]=tt[o]-t,n.lastFlickDist[o]=Math.abs(n.lastFlickOffset[o]),n.lastFlickDist[o]>20?n.lastFlickSpeed[o]=n.lastFlickOffset[o]/e:n.lastFlickSpeed[o]=0,Math.abs(n.lastFlickSpeed[o])<.1&&(n.lastFlickSpeed[o]=0),n.slowDownRatio[o]=.95,n.slowDownRatioReverse[o]=1-n.slowDownRatio[o],n.speedDecelerationRatio[o]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(ue[e]>ee.min[e]?n.backAnimDestination[e]=ee.min[e]:ue[e]<ee.max[e]&&(n.backAnimDestination[e]=ee.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,Ye("bounceZoomPan"+e,ue[e],n.backAnimDestination[e],t||300,i.easing.sine.out,function(t){ue[e]=t,De()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,ue[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(Be.zoomPan&&(Be.zoomPan.raf=E(n.panAnimLoop),n.now=Pe(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),De(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return ue.x=Math.round(ue.x),ue.y=Math.round(ue.y),De(),void Ge("zoomPan")}};return n},Mt=function(e){return e.calculateSwipeSpeed("y"),ee=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(Ve("zoomPan"),e.lastNow=Pe(),void e.panAnimLoop())},Ot=function(e,t){var n,o,s;if(ne||(st=d),"swipe"===e){var l=tt.x-nt.x,c=t.lastFlickDist.x<10;l>30&&(c||t.lastFlickOffset.x>20)?o=-1:l<-30&&(c||t.lastFlickOffset.x<-20)&&(o=1)}o&&((d+=o)<0?(d=r.loop?qt()-1:0,s=!0):d>=qt()&&(d=r.loop?0:qt()-1,s=!0),s&&!r.loop||(ge+=o,fe-=o,n=!0));var u,p=he.x*fe,f=Math.abs(p-dt.x);return n||p>dt.x==t.lastFlickSpeed.x>0?(u=Math.abs(t.lastFlickSpeed.x)>0?f/Math.abs(t.lastFlickSpeed.x):333,u=Math.min(u,400),u=Math.max(u,250)):u=333,st===d&&(n=!1),ne=!0,_e("mainScrollAnimStart"),Ye("mainScroll",dt.x,p,u,i.easing.cubic.out,Me,function(){Ke(),ne=!1,st=-1,(n||st!==d)&&a.updateCurrItem(),_e("mainScrollAnimComplete")}),n&&a.updateCurrItem(!0),n},Rt=function(e){return 1/J*e*v},$t=function(){var e=g,t=ze(),n=je();g<t?e=t:g>n&&(e=n);var o,r=re;return ae&&!U&&!se&&g<t?(a.close(),!0):(ae&&(o=function(e){ke((1-r)*e+r)}),a.zoomTo(e,0,200,i.easing.cubic.out,o),!0)};be("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,o,i){C=e+t,_=e+n,P=e+o,k=i?e+i:""};(D=F.pointerEvent)&&F.touch&&(F.touch=!1),D?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):F.touch?(e("touch","start","move","end","cancel"),A=!0):e("mouse","down","move","up"),f=_+" "+P+" "+k,m=C,D&&!A&&(A=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),a.likelyTouchDevice=A,h[C]=kt,h[_]=It,h[P]=At,k&&(h[k]=h[P]),F.touch&&(m+=" mousedown",f+=" mousemove mouseup",h.mousedown=h[C],h.mousemove=h[_],h.mouseup=h[P]),A||(r.allowPanToNext=!1)}}});var Lt,Ft,Nt,zt,jt,qt,Ut=function(t,n,o,s){var l;Lt&&clearTimeout(Lt),zt=!0,Nt=!0,t.initialLayout?(l=t.initialLayout,t.initialLayout=null):l=r.getThumbBoundsFn&&r.getThumbBoundsFn(d);var u=o?r.hideAnimationDuration:r.showAnimationDuration,p=function(){Ge("initialZoom"),o?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(ke(1),n&&(n.style.display="block"),i.addClass(e,"pswp--animated-in"),_e("initialZoom"+(o?"OutEnd":"InEnd"))),s&&s(),zt=!1};if(!u||!l||void 0===l.x)return _e("initialZoom"+(o?"Out":"In")),g=t.initialZoomLevel,Re(ue,t.initialPosition),De(),e.style.opacity=o?0:1,ke(1),void(u?setTimeout(function(){p()},u):p());!function(){var n=c,s=!a.currItem.src||a.currItem.loadError||r.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),o||(g=l.w/t.w,ue.x=l.x,ue.y=l.y-R,a[s?"template":"bg"].style.opacity=.001,De()),Ve("initialZoom"),o&&!n&&i.removeClass(e,"pswp--animated-in"),s&&(o?i[(n?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){i.addClass(e,"pswp--animate_opacity")},30)),Lt=setTimeout(function(){if(_e("initialZoom"+(o?"Out":"In")),o){var a=l.w/t.w,r={x:ue.x,y:ue.y},c=g,d=re,f=function(t){1===t?(g=a,ue.x=l.x,ue.y=l.y-L):(g=(a-c)*t+c,ue.x=(l.x-r.x)*t+r.x,ue.y=(l.y-L-r.y)*t+r.y),De(),s?e.style.opacity=1-t:ke(d-t*d)};n?Ye("initialZoom",0,1,u,i.easing.cubic.out,f,p):(f(1),Lt=setTimeout(p,u+20))}else g=t.initialZoomLevel,Re(ue,t.initialPosition),De(),ke(1),s?e.style.opacity=1:ke(1),Lt=setTimeout(p,u+20)},o?25:90)}()},Ht={},Wt=[],Bt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ft.length}},Zt=function(e,t,n){if(e.src&&!e.loadError){var o=!n;if(o&&(e.vGap||(e.vGap={top:0,bottom:0}),_e("parseVerticalMargin",e)),Ht.x=t.x,Ht.y=t.y-e.vGap.top-e.vGap.bottom,o){var i=Ht.x/e.w,a=Ht.y/e.h;e.fitRatio=i<a?i:a;var s=r.scaleMode;"orig"===s?n=1:"fit"===s&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return function(e,t,n){var o=e.bounds;o.center.x=Math.round((Ht.x-t)/2),o.center.y=Math.round((Ht.y-n)/2)+e.vGap.top,o.max.x=t>Ht.x?Math.round(Ht.x-t):o.center.x,o.max.y=n>Ht.y?Math.round(Ht.y-n)+e.vGap.top:o.center.y,o.min.x=t>Ht.x?0:o.center.x,o.min.y=n>Ht.y?e.vGap.top:o.center.y}(e,e.w*n,e.h*n),o&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds},Gt=function(e,t,n,o,i,r){t.loadError||o&&(t.imageAppended=!0,Yt(t,o,t===a.currItem&&Te),n.appendChild(o),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},Vt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Kt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=r.errorMsg.replace("%url%",e.src),!0},Yt=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var o=n?e.w:Math.round(e.w*e.fitRatio),i=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=o+"px",e.placeholder.style.height=i+"px"),t.style.width=o+"px",t.style.height=i+"px"}},Xt=function(){if(Wt.length){for(var e,t=0;t<Wt.length;t++)(e=Wt[t]).holder.index===e.index&&Gt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Wt=[]}};be("Controller",{publicMethods:{lazyLoadItem:function(e){e=Se(e);var t=jt(e);t&&(!t.loaded&&!t.loading||b)&&(_e("gettingData",e,t),t.src&&Vt(t))},initController:function(){i.extend(r,Bt,!0),a.items=Ft=n,jt=a.getItemAt,qt=r.getNumItemsFn,r.loop,qt()<3&&(r.loop=!1),Ce("beforeChange",function(e){var t,n=r.preload,o=null===e||e>=0,i=Math.min(n[0],qt()),s=Math.min(n[1],qt());for(t=1;t<=(o?s:i);t++)a.lazyLoadItem(d+t);for(t=1;t<=(o?i:s);t++)a.lazyLoadItem(d-t)}),Ce("initialLayout",function(){a.currItem.initialLayout=r.getThumbBoundsFn&&r.getThumbBoundsFn(d)}),Ce("mainScrollAnimComplete",Xt),Ce("initialZoomInEnd",Xt),Ce("destroy",function(){for(var e,t=0;t<Ft.length;t++)(e=Ft[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Wt=null})},getItemAt:function(e){return e>=0&&void 0!==Ft[e]&&Ft[e]},allowProgressiveImg:function(){return r.forceProgressiveLoading||!A||r.mouseUsed||screen.width>1200},setContent:function(e,t){r.loop&&(t=Se(t));var n=a.getItemAt(e.index);n&&(n.container=null);var o,l=a.getItemAt(t);if(l){_e("gettingData",t,l),e.index=t,e.item=l;var c=l.container=i.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?c.appendChild(l.html):c.innerHTML=l.html),Kt(l),Zt(l,pe),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&((o=i.createEl("pswp__img","img")).style.opacity=1,o.src=l.src,Yt(l,o),Gt(0,l,c,o));else{if(l.loadComplete=function(n){if(s){if(e&&e.index===t){if(Kt(n,!0))return n.loadComplete=n.img=null,Zt(n,pe),Ae(n),void(e.index===d&&a.updateCurrZoomItem());n.imageAppended?!zt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):F.transform&&(ne||zt)?Wt.push({item:n,baseDiv:c,img:n.img,index:t,holder:e,clearPlaceholder:!0}):Gt(0,n,c,n.img,0,!0)}n.loadComplete=null,n.img=null,_e("imageLoadComplete",t,n)}},i.features.transform){var u="pswp__img pswp__img--placeholder";u+=l.msrc?"":" pswp__img--placeholder--blank";var p=i.createEl(u,l.msrc?"img":"");l.msrc&&(p.src=l.msrc),Yt(l,p),c.appendChild(p),l.placeholder=p}l.loading||Vt(l),a.allowProgressiveImg()&&(!Nt&&F.transform?Wt.push({item:l,baseDiv:c,img:l.img,index:t,holder:e}):Gt(0,l,c,l.img,0,!0))}Nt||t!==d?Ae(l):(te=c.style,Ut(l,o||l.img)),e.el.innerHTML="",e.el.appendChild(c)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var Qt,Jt,en={},tn=function(e,t,n){var o=document.createEvent("CustomEvent"),i={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};o.initCustomEvent("pswpTap",!0,!0,i),e.target.dispatchEvent(o)};be("Tap",{publicMethods:{initTap:function(){Ce("firstTouchStart",a.onTapStart),Ce("touchRelease",a.onTapRelease),Ce("destroy",function(){en={},Qt=null})},onTapStart:function(e){e.length>1&&(clearTimeout(Qt),Qt=null)},onTapRelease:function(e,t){if(t&&!V&&!Z&&!Ze){var n=t;if(Qt&&(clearTimeout(Qt),Qt=null,function(e,t){return Math.abs(e.x-t.x)<25&&Math.abs(e.y-t.y)<25}(n,en)))return void _e("doubleTap",n);if("mouse"===t.type)return void tn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||i.hasClass(e.target,"pswp__single-tap"))return void tn(e,t);Re(en,n),Qt=setTimeout(function(){tn(e,t),Qt=null},300)}}}}),be("DesktopZoom",{publicMethods:{initDesktopZoom:function(){$||(A?Ce("mouseUsed",function(){a.setupDesktopZoom()}):a.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Jt={};var n="wheel mousewheel DOMMouseScroll";Ce("bindEvents",function(){i.bind(e,n,a.handleMouseWheel)}),Ce("unbindEvents",function(){Jt&&i.unbind(e,n,a.handleMouseWheel)}),a.mouseZoomedIn=!1;var o,r=function(){a.mouseZoomedIn&&(i.removeClass(e,"pswp--zoomed-in"),a.mouseZoomedIn=!1),g<1?i.addClass(e,"pswp--zoom-allowed"):i.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){o&&(i.removeClass(e,"pswp--dragging"),o=!1)};Ce("resize",r),Ce("afterChange",r),Ce("pointerDown",function(){a.mouseZoomedIn&&(o=!0,i.addClass(e,"pswp--dragging"))}),Ce("pointerUp",s),t||r()},handleMouseWheel:function(e){if(g<=a.currItem.fitRatio)return r.modal&&(!r.closeOnScroll||Ze||B?e.preventDefault():I&&Math.abs(e.deltaY)>2&&(c=!0,a.close())),!0;if(e.stopPropagation(),Jt.x=0,"deltaX"in e)1===e.deltaMode?(Jt.x=18*e.deltaX,Jt.y=18*e.deltaY):(Jt.x=e.deltaX,Jt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Jt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Jt.y=-.16*e.wheelDeltaY:Jt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Jt.y=e.detail}Ne(g,!0);var t=ue.x-Jt.x,n=ue.y-Jt.y;(r.modal||t<=ee.min.x&&t>=ee.max.x&&n<=ee.min.y&&n>=ee.max.y)&&e.preventDefault(),a.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:pe.x/2+me.x,y:pe.y/2+me.y};var n=r.getDoubleTapZoom(!0,a.currItem),o=g===n;a.mouseZoomedIn=!o,a.zoomTo(o?a.currItem.initialZoomLevel:n,t,333),i[(o?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var nn,on,an,rn,sn,ln,cn,dn,un,pn,fn,mn,hn={history:!0,galleryUID:1},gn=function(){return fn.hash.substring(1)},vn=function(){nn&&clearTimeout(nn),an&&clearTimeout(an)},yn=function(){var e=gn(),t={};if(e.length<5)return t;var n,o=e.split("&");for(n=0;n<o.length;n++)if(o[n]){var i=o[n].split("=");i.length<2||(t[i[0]]=i[1])}if(r.galleryPIDs){var a=t.pid;for(t.pid=0,n=0;n<Ft.length;n++)if(Ft[n].pid===a){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},wn=function(){if(an&&clearTimeout(an),Ze||B)an=setTimeout(wn,500);else{rn?clearTimeout(on):rn=!0;var e=d+1,t=jt(d);t.hasOwnProperty("pid")&&(e=t.pid);var n=cn+"&gid="+r.galleryUID+"&pid="+e;dn||-1===fn.hash.indexOf(n)&&(pn=!0);var o=fn.href.split("#")[0]+"#"+n;mn?"#"+n!==window.location.hash&&history[dn?"replaceState":"pushState"]("",document.title,o):dn?fn.replace(o):fn.hash=n,dn=!0,on=setTimeout(function(){rn=!1},60)}};be("History",{publicMethods:{initHistory:function(){if(i.extend(r,hn,!0),r.history){fn=window.location,pn=!1,un=!1,dn=!1,cn=gn(),mn="pushState"in history,cn.indexOf("gid=")>-1&&(cn=(cn=cn.split("&gid=")[0]).split("?gid=")[0]),Ce("afterChange",a.updateURL),Ce("unbindEvents",function(){i.unbind(window,"hashchange",a.onHashChange)});var e=function(){ln=!0,un||(pn?history.back():cn?fn.hash=cn:mn?history.pushState("",document.title,fn.pathname+fn.search):fn.hash=""),vn()};Ce("unbindEvents",function(){c&&e()}),Ce("destroy",function(){ln||e()}),Ce("firstUpdate",function(){d=yn().pid});var t=cn.indexOf("pid=");t>-1&&"&"===(cn=cn.substring(0,t)).slice(-1)&&(cn=cn.slice(0,-1)),setTimeout(function(){s&&i.bind(window,"hashchange",a.onHashChange)},40)}},onHashChange:function(){return gn()===cn?(un=!0,void a.close()):void(rn||(sn=!0,a.goTo(yn().pid),sn=!1))},updateURL:function(){vn(),sn||(dn?nn=setTimeout(wn,800):wn())}}}),i.extend(a,Xe)}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(e,t){var n,o,i,a,r,s,l,c,d,u,p,f,m,h,g,v,y,w,T=this,b=!1,S=!0,x=!0,C={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},_=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!d&&$();for(var n,o,i=(e.target||e.srcElement).getAttribute("class")||"",a=0;a<z.length;a++)(n=z[a]).onTap&&i.indexOf("pswp__"+n.name)>-1&&(n.onTap(),o=!0);if(o){e.stopPropagation&&e.stopPropagation(),v=!0;var r=t.features.isOldAndroid?600:30;setTimeout(function(){v=!1},r)}},P=function(){return!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},k=function(e,n,o){t[(o?"add":"remove")+"Class"](e,"pswp__"+n)},I=function(){var e=1===g.getNumItemsFn();e!==h&&(k(o,"ui--one-slide",e),h=e)},D=function(){k(l,"share-modal--hidden",x)},A=function(){return(x=!x)?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){x&&D()},300)):(D(),setTimeout(function(){x||t.addClass(l,"pswp__share-modal--fade-in")},30)),x||M(),!1},E=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),x||A(),1))},M=function(){for(var e,t,n,o,i="",a=0;a<g.shareButtons.length;a++)e=g.shareButtons[a],t=g.getImageURLForShare(e),n=g.getPageURLForShare(e),o=g.getTextForShare(e),i+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(o))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(i=g.parseShareButtonOut(e,i));l.children[0].innerHTML=i,l.children[0].onclick=E},O=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},R=0,$=function(){clearTimeout(w),R=0,d&&T.setIdle(!1)},L=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(w),w=setTimeout(function(){T.setIdle(!0)},g.timeToIdleOutside))},F=function(e){f!==e&&(k(p,"preloader--active",!e),f=e)},N=function(e){var n=e.vGap;if(P()){var r=g.barsSize;if(g.captionEl&&"auto"===r.bottom)if(a||((a=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),o.insertBefore(a,i),t.addClass(o,"pswp__ui--fit")),g.addCaptionHTMLFn(e,a,!0)){var s=a.clientHeight;n.bottom=parseInt(s,10)||44}else n.bottom=r.top;else n.bottom="auto"===r.bottom?0:r.bottom;n.top=r.top}else n.top=n.bottom=0},z=[{name:"caption",option:"captionEl",onInit:function(e){i=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){A()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){A()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){r=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}];T.init=function(){t.extend(e.options,C,!0),g=e.options,o=t.getChildByClass(e.scrollWrap,"pswp__ui"),u=e.listen,function(){var e;u("onVerticalDrag",function(e){S&&e<.95?T.hideControls():!S&&e>=.95&&T.showControls()}),u("onPinchClose",function(t){S&&t<.9?(T.hideControls(),e=!0):e&&!S&&t>.9&&T.showControls()}),u("zoomGestureEnded",function(){(e=!1)&&!S&&T.showControls()})}(),u("beforeChange",T.update),u("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)}),u("preventDragEvent",function(e,t,n){var o=e.target||e.srcElement;o&&o.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(o.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),u("bindEvents",function(){t.bind(o,"pswpTap click",_),t.bind(e.scrollWrap,"pswpTap",T.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",T.onMouseOver)}),u("unbindEvents",function(){x||A(),y&&clearInterval(y),t.unbind(document,"mouseout",L),t.unbind(document,"mousemove",$),t.unbind(o,"pswpTap click",_),t.unbind(e.scrollWrap,"pswpTap",T.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",T.onMouseOver),n&&(t.unbind(document,n.eventK,T.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)}),u("destroy",function(){g.captionEl&&(a&&o.removeChild(a),t.removeClass(i,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(o,"pswp__ui--over-close"),t.addClass(o,"pswp__ui--hidden"),T.setIdle(!1)}),g.showAnimationDuration||t.removeClass(o,"pswp__ui--hidden"),u("initialZoomIn",function(){g.showAnimationDuration&&t.removeClass(o,"pswp__ui--hidden")}),u("initialZoomOut",function(){t.addClass(o,"pswp__ui--hidden")}),u("parseVerticalMargin",N),function(){var e,n,i,a=function(o){if(o)for(var a=o.length,r=0;r<a;r++){e=o[r],n=e.className;for(var s=0;s<z.length;s++)i=z[s],n.indexOf("pswp__"+i.name)>-1&&(g[i.option]?(t.removeClass(e,"pswp__element--disabled"),i.onInit&&i.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};a(o.children);var r=t.getChildByClass(o,"pswp__top-bar");r&&a(r.children)}(),g.shareEl&&s&&l&&(x=!0),I(),g.timeToIdle&&u("mouseUsed",function(){t.bind(document,"mousemove",$),t.bind(document,"mouseout",L),y=setInterval(function(){2==++R&&T.setIdle(!0)},g.timeToIdle/2)}),g.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=T.getFullscreenAPI()),n?(t.bind(document,n.eventK,T.updateFullscreen),T.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),g.preloaderEl&&(F(!0),u("beforeChange",function(){clearTimeout(m),m=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&F(!1):F(!0)},g.loadingIndicatorDelay)}),u("imageLoadComplete",function(t,n){e.currItem===n&&F(!0)}))},T.setIdle=function(e){d=e,k(o,"ui--idle",e)},T.update=function(){S&&e.currItem?(T.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,i),k(i,"caption--empty",!e.currItem.title)),b=!0):b=!1,x||A(),I()},T.updateFullscreen=function(o){o&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},T.updateIndexIndicator=function(){g.counterEl&&(r.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},T.onGlobalTap=function(n){var o=(n=n||window.event).target||n.srcElement;if(!v)if(n.detail&&"mouse"===n.detail.pointerType){if(O(o))return void e.close();t.hasClass(o,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(S?T.hideControls():T.showControls()),g.tapToClose&&(t.hasClass(o,"pswp__img")||O(o)))return void e.close()},T.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;k(o,"ui--over-close",O(t))},T.hideControls=function(){t.addClass(o,"pswp__ui--hidden"),S=!1},T.showControls=function(){S=!0,b||T.update(),t.removeClass(o,"pswp__ui--hidden")},T.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},T.getFullscreenAPI=function(){var t,n=document.documentElement,o="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}});var isTouch,fastdomT4s=createCommonjsModule(function(e){!function(t){var n=function(){},o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function i(){this.reads=[],this.writes=[],this.raf=o.bind(t)}function a(e){e.scheduled||(e.scheduled=!0,e.raf(function(e){var t,o=e.writes,i=e.reads;try{n("flushing reads",i.length),r(i),n("flushing writes",o.length),r(o)}catch(e){t=e}e.scheduled=!1,(i.length||o.length)&&a(e);if(t){if(n("task errored",t.message),!e.catch)throw t;e.catch(t)}}.bind(null,e)))}function r(e){for(var t;t=e.shift();)t()}function s(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}i.prototype={constructor:i,measure:function(e,t){var n=t?e.bind(t):e;return this.reads.push(n),a(this),n},mutate:function(e,t){var n=t?e.bind(t):e;return this.writes.push(n),a(this),n},clear:function(e){return s(this.reads,e)||s(this.writes,e)},extend:function(e){if("object"!=_typeof(e))throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var l=t.fastdom=t.fastdom||new i;e.exports=l}("undefined"!=typeof window?window:commonjsGlobal)});!function(e){"use strict";var t=e(window),n=e(document),o=e("html"),i=e("body"),a=t.width(),r=a<768,s=window.T4Sstrings,l=e(".t4s-close-overlay"),c="t4s-lock-scroll",d="[data-t4s-scroll-me]",u=window.T4Sconfigs,p=T4Srequest.page_type,f=T4Sroutes.search_url,m=u.platform_email,h=u.enableConfetti;isTouch=!!("ontouchstart"in window||window.DocumentTouch&&window.document instanceof DocumentTouch||window.navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),T4SThemeSP.isHover=o.hasClass("t4sp-hover"),T4SThemeSP.isTouch=!T4SThemeSP.isHover&&isTouch;var g="top-start, top, top-end, left-start, left, left-end, right-start, right, right-end, bottom-start, bottom, bottom-end".split(", "),v={left:"right","left-start":"right-start","left-end":"right-end",right:"left","right-start":"left-start","right-end":"left-end"},y=function(e){return isThemeRTL&&v[e]||e};function w(e,t){return JSON.parse(e||t||"{}")}T4SThemeSP.Tooltip=function(){var t='<div class="tooltip t4s-tooltip" id="id_nt_tt" role="tooltip"><div class="t4s-tt-arrow"></div><div class="tooltip-inner">nt_txt_tt</div></div>',n="is--show",o=function(e){var t=e.text();return e.attr("title")&&"string"!=typeof e.attr("data-original-title")&&(t=e.attr("title"),e.attr("data-original-title",e.attr("title")||"").attr("title","")),e.attr("data-t4s-tooltip")?t=e.attr("data-t4s-tooltip"):e.attr("data-original-title")&&(t=e.attr("data-original-title")),t};function a(o,i,a){var r=e(o),s=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e}("tooltipt4s");r.attr("aria-describedby",s),function(e,n){T4SThemeSP.$appendComponent.after(t.replace("nt_txt_tt",e).replace("id_nt_tt",n))}(a,s);var l=e("#"+s);!function(e,t,n,o){fastdomT4s.mutate(function(){FloatingUIT4sDOM.computePosition(e,t,{placement:o,middleware:[FloatingUIT4sDOM.offset(6),FloatingUIT4sDOM.flip({fallbackPlacements:["top","bottom"]}),FloatingUIT4sDOM.shift({padding:5}),FloatingUIT4sDOM.arrow({element:n})]}).then(({x:e,y:o,placement:i,middlewareData:a})=>{Object.assign(t.style,{top:"0",left:"0",transform:`translate3d(${Math.round(e)}px,${Math.round(o)}px,0)`});const{x:r,y:s}=a.arrow,l={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]];Object.assign(n.style,{left:null!=r?`${r}px`:"",top:null!=s?`${s}px`:"",right:"",bottom:"",[l]:"-4px"})})})}(o,l[0],l.find(".t4s-tt-arrow")[0],i),l.addClass(n)}return i.on("t4s:hideTooltip",function(){e(".tooltip.t4s-tooltip.is--show").remove()}),function(t){if(!T4SThemeSP.isTouch){var i=e("[data-tooltip]:not(.t4s-tooltip-actived)");0!=i.length&&i.hoverIntent({sensitivity:6,interval:80,timeout:100,over:function(t){var n=e(this).attr("data-tooltip")||"nt94";g.indexOf(n)<0||a(this,y(n),o(e(this)))},out:function(t){var o,i,a=e(this).attr("data-tooltip")||"nt94";g.indexOf(a)<0||((i=e("#"+e(o=this).attr("aria-describedby"))).removeClass(n),i.remove(),e(o).attr("aria-describedby",""))}}).addClass("t4s-tooltip-actived")}}}(),T4SThemeSP.LookBook=function(){var i={loading:"is--loading",loaded:"is--loaded",clicked:"is--clicked",selected:"is--selected",opened:"is--opened",preload:"is--preLoaded",visible:"is--visible is--pindop"},a=[],s=!1;function u(t,n,o=!1){if(t.hasClass(i.loaded))o&&f(t,n);else{var r=t.data("sid"),l=a[n+r];if(!t.is("[data-is-pr]"))return t.addClass(i.loaded),l=e("#tem"+n).html(),T4SThemeSP.$appendComponent.after(l.replace('id=""','id="'+n+'"')),void(o&&f(t,n));l?(T4SThemeSP.$appendComponent.after(l),t.addClass(i.loaded),T4SThemeSP.ProductItem.init(),T4SThemeSP.Tooltip(),o&&f(t,n)):(t.addClass(i.loading),fetch(t.data("href")+"/?section_id="+r).then(function(e){return e.text()}).then(function(e){e=(e=e.split("[t4splitlz]")[1]).replace("id_nt_t4s",n),T4SThemeSP.$appendComponent.after(e),t.removeClass(i.loading).addClass(i.loaded),T4SThemeSP.ProductItem.init(),T4SThemeSP.Tooltip(),o&&f(t,n),s&&(a[n+r]=e)}).catch(function(e){t.removeClass(i.loading),console.log(e)}))}}function p(){r&&(o.removeClass(c),T4SThemeSP.Helpers.disableBodyScroll(!1,d)),e("[data-pin-close],[data-pin-popup]."+i.clicked).off("click.closelb"),n.off("click.closelb").off("keyup.closelb"),e("[data-pin-wrapper]."+i.opened).removeClass(i.opened),e("[data-pin-popup]."+i.clicked).removeClass(i.clicked),l.removeClass(i.visible)}function f(a,s,u="lb"){!function(t){r&&(o.addClass(c),T4SThemeSP.Helpers.disableBodyScroll(!0,d)),e("#"+t).addClass(i.opened),l.addClass(i.visible)}(s);var f=e("#"+s),m=f[0],g=f.find(".t4s-"+u+"-arrow"),v=a.data("position")||"top";t.width()>767&&function(e,t,n,o){fastdomT4s.mutate(function(){FloatingUIT4sDOM.computePosition(e,t,{placement:o,middleware:[FloatingUIT4sDOM.offset(12),FloatingUIT4sDOM.flip({fallbackPlacements:["top","bottom"]}),FloatingUIT4sDOM.shift({padding:0}),FloatingUIT4sDOM.arrow({element:n})]}).then(({x:e,y:o,placement:i,middlewareData:a})=>{Object.assign(t.style,{top:"0",left:"0",transform:`translate3d(${Math.round(e)}px,${Math.round(o)}px,0)`});const{x:r,y:s}=a.arrow,l={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]];Object.assign(n.style,{left:null!=r?`${r}px`:"",top:null!=s?`${s}px`:"",right:"",bottom:"",[l]:"-6px"})})})}(a[0],m,g[0],y(v)),"lb"==u?(n.on("click.closelb",function(t){var n=e(t.target);n.closest("[data-pin-wrapper]").length>0||n.is("[data-pin-popup]")||p()}),e(`#${s} [data-pin-close], [data-pin-popup].${i.clicked}`).on("click.closelb",function(e){e.preventDefault(),e.stopPropagation(),p()}),n.on("keyup.closelb",function(e){27===e.keyCode&&p()})):(n.on("click.closeDrop",function(t){var n=e(t.target);n.closest("[data-dropdown-wrapper]").length>0||n.is("[data-dropdown-open]")||h()}),e(`#${s} [data-dropdown-close], [data-dropdown-open].${i.clicked}`).on("click.closeDrop",function(e){e.preventDefault(),e.stopPropagation(),h()}),n.on("keyup.closeDrop",function(e){27===e.keyCode&&h()}))}function m(){n.on("click","[data-pin-popup]:not(."+i.clicked+")",function(t){t.preventDefault();var n=e(this),o=n.data("bid");p(),n.addClass(i.clicked),u(n,o,!0)}),e("[data-pin-popup][data-is-pr]:not(."+i.clicked+"):not(."+i.opened+")").on("mouseenter.pin",function(t){var n=e(this),o=n.data("bid");n.addClass(i.preload),u(n,o),n.off("touchstart.pin mouseenter.pin")})}function h(){o.removeClass(c),T4SThemeSP.Helpers.disableBodyScroll(!1,d),e("[data-dropdown-close],[data-dropdown-open]."+i.clicked).off("click.closeDrop"),n.off("click.closeDrop").off("keyup.closeDrop"),e("[data-dropdown-wrapper]."+i.opened).removeClass(i.opened),e("[data-dropdown-open]."+i.clicked).removeClass(i.clicked),l.removeClass(i.visible)}function g(){n.on("click","[data-dropdown-open]:not(."+i.clicked+")",function(t){t.preventDefault();var n=e(this),o=n.data("id");h(),n.addClass(i.clicked),f(n,o,"drop"),function(t){e("#"+t).on("click.dopText","[data-dropdown-item]",function(n){n.preventDefault();var o=e(this);o.parents().find("."+i.selected).removeClass(i.selected),o.addClass(i.selected),e('[data-dropdown-open][data-id="'+t+'"]>span').text(o.text()),e("#"+t).off("click.dopText"),h()})}(o)}),n.on("click","[data-dropdown-off]",function(t){var n=e(this);e(this).closest("[data-dropdown-wrapper]").find("[data-dropdown-open]>span").text(n.text()),h()}),n.on("dropdown:t4s:close",function(e){h()})}return function(){m(),g()}}(),T4SThemeSP.ProductItem=function(){var t=e("#btns_pr_temp").html(),a="data-tooltip",r=a+'="',s='data-pr-id="',l='data-id="',c=u,d=T4SProductStrings,p=c.nowTimestamp,f=c.new_day_int,m=c.show_img,h=c.enable_quickshop,g=c.use_sale_badge,v=c.label_sale_style,y=c.use_preorder_badge,T=c.use_new_badge,b=c.use_soldout_badge,S=c.use_custom_badge,x=c.swatch_limit,C=c.swatch_click,_=d.preOrder,P=d.readMore,k=(d.soldOut,d.selectOption),I=d.quickShop,D=d.preView,A=".t4s-text-pr",E=".t4s-svg-pr-icon use",M="data-color-options",O="is--loading",R="is-t4s--opended",$="is-t4s--calced",L="is-t4s--limit",F="[data-t4s-resizeobserver]",N=c.sw_item_style,z=(x=d.swatch_limit,d.swatch_limit_less),j=c.show_qty,q='.t4s-pr-color__item:not(.is-swatch--current):not([data-img="none"]):not(.is--colors-more)',U=c.pr_curent,H=u.app_review,W={sale:d.badgeSale,new:d.badgeNew,preOrder:d.badgepreOrder,soldout:d.badgeSoldout,SavePercent:d.badgeSavePercent};function B(t){if(x){var n=t?"["+M+"]":"["+M+"]:not(."+$+")";fastdomT4s.measure(function(){e(n).each(function(t){var n=e(this),o=n.find(".t4s-pr-color__item"),i=o.outerWidth(!0),a=o.length-1,r=Math.floor(n.outerWidth()/i),s=a-r;fastdomT4s.mutate(function(){n.addClass($).removeClass(L),n.find(".is-color--limit").removeClass("is-color--limit"),s>0&&s!=a&&(s+=1,n.addClass(L),n.find(".t4s-pr-color__item").eq(r-2).addClass("is-color--limit"),n.attr("data-limit",r).attr("style",'--text : "+'+s+'";--text2 : "-'+s+'"'))})})})}}function Z(e){var t,n,o=e.data("img"),i=(e.data("ratio"),e.data("vid")),a=e.closest("[data-product-options]"),r=a.find("[data-pr-img]"),s=a.find("[data-pr-href]"),l=s.attr("href");(e.closest("[data-color-options]").find(".is-swatch--selected").removeClass("is-swatch--selected"),e.addClass("is-swatch--selected"),a.addClass("t4s-colors-selected"),r.attr("data-srcset",o),"1"!=U&&void 0!==i)&&s.attr("href",(n=i,/variant=/.test(t=l)?t.replace(/(variant=)[^&]+/,"$1"+n):/\?/.test(t)?t.concat("&variant=").concat(n):t.concat("?variant=").concat(n)))}var G,V,K="data-collection-url",Y="[data-collection-url]",X="is--href-replaced",Q="[data-pr-href]:not(.is--href-replaced)",J="/products/";var ee=[];return{init:function(){u.within_cat&&0!=e(Q).length&&e(Y).each(function(){G=e(this).attr(K),e(this).find(Q).each(function(){V=(V=e(this).attr("href")).split(J)[1],V=J+V,e(this).attr("href",G+V).addClass(X)})}),e("[data-product-options]:not(.is-t4s-pr-created)").each(function(){var n=e(this),o=w(n.attr("data-product-options")),i=n.find("[data-pr-href]").attr("href");!function(e,t){var n="";"2"==m&&t&&(n='<img data-src="'+t+'" data-pr-img2 class="t4s-product-hover-img lazyloadt4s" loading="lazy" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-widths="[100,200,400,600,700,800,900]" data-optimumx="1.5" data-sizes="auto">',e.find(".t4s-product-img").addClass("is-show-img2")),e.find("[data-replace-img2]").replaceWith(n)}(n,o.image2),function(e,n,o){var i=e.find("[data-replace-quickview]"),c=i.attr(a)||"",d=e.find("[data-replace-compare]"),u=d.attr(a)||"",p=e.find("[data-replace-wishlist]"),f=p.attr(a)||"",m=e.find("[data-replace-atc]"),g=m.is("[data-has-qty]"),v=m.attr(a)||"",y=t.replace(/t4s_pr_url/g,o).split("[split_t4nt]");i.replaceWith(y[0].replace(r,r+c).replace(s,l+n.id)),d.replaceWith(y[1].replace(r,r+u).replace(s,l+n.id)),p.replaceWith(y[2].replace(r,r+f).replace(s,l+n.id)),m.replaceWith(y[3].replace(r,r+v).replace(s,l+n.id));var w=(m=e.find("[data-atc-selector]")).find(A),T=m.find(E);if(n.isExternal)m.attr("href",n.external_link).attr("target","_blank"),w.text(n.external_title),T.attr("xlink:href","#t4s-icon-external");else if(n.available)if(n.isGrouped)w.text(D);else if(n.isDefault){if(n.isPreoder&&w.text(_),m.attr({"data-action-atc":"","data-variant-id":n.VariantFirstID}),j&&g&&m[0]){var b=m[0].outerHTML,S=y[4].replace('max="9999"','max="'+n.maxQuantity+'"');m.replaceWith('<div class="t4s-product-atc-qty">'+S+b+"</div>")}}else h?(m.attr("data-action-quickshop",""),w.text(I)):w.text(k);else w.text(P),T.attr("xlink:href","#t4s-icon-link")}(n,o,i),function(e,t){var n=e.find("[data-product-badge]"),o=n.attr("data-sort").replace(/ /g,"").split(","),i="";if(0!=o.length&&0!=n.length){for(var a=o.length,r=0;r<a;r++)switch(o[r]){case"sale":var s=t.compare_at_price,l=t.price;if(s<=l||!g)break;if("2"==v)var c=100*(s-l)/s,d=W.SavePercent.replace("[sale]",Math.round(c));else if("3"==v){var u=s-l;d=T4SThemeSP.Currency.formatMoney(u)}else d=W[o[r]];i+='<span class="t4s-badge-item t4s-badge-sale">'+d+"</span>";break;case"preOrder":if(!t.isPreoder||!y)break;i+='<span class="t4s-badge-item t4s-badge-preorder">'+W[o[r]]+"</span>";break;case"new":var m=p-t.dateStart,h=Math.floor(m/3600);if((h=Math.floor(h/24))>=f||!T)break;i+='<span class="t4s-badge-item t4s-badge-new">'+W[o[r]]+"</span>";break;case"soldout":if(t.available||!b)break;i+='<span class="t4s-badge-item t4s-badge-soldout">'+W[o[r]]+"</span>";break;default:var w=t.customBadge;if(!w||!S)break;for(var x=w.length,C=0;C<x;C++)i+='<span class="t4s-badge-item t4s-badge-custom t4s-badge-'+t.customBadgeHandle[C]+'">'+w[C]+"</span>"}n.html(i)}}(n,o),function(e,t){var n=e.find("["+M+"]");if(0!=n.length){for(var o=w(n.attr(M)),i=o.color_variants,a=o.color_variants_handle,r=o.img_options,s=o.img_variants,l=o.id_variants,c=o.img_ratios,d="",u=s.length>0,p=i.length,f=0;f<p;f++){var m,h=i[f],g=r.indexOf(h),v="nt94"!=(m=(m=u?s[g]:"nt94")||"nt94")?T4SThemeSP.Images.lazyloadImagePath(m):"none",y="nt94"!=m&&"2"==N?'data-bg="'+T4SThemeSP.Images.getNewImageUrl(m,100)+'"':"";d+='<span class="t4s-pr-color__item" data-vid="'+l[f]+'" data-tooltip="top" data-img="'+v+'" data-ratio="'+(c[f]||"")+'"><span class="t4s-pr-color__name">'+h+'</span><span class="t4s-pr-color__value bg_color_'+a[f]+' lazyloadt4s" '+y+"></span></span>"}p>2&&x&&(d+='<span class="t4s-pr-color__item is--colors-more" data-tooltip="top-end"><span class="t4s-pr-color__name">'+x+'</span><a href="'+t+'" class="t4s-pr-color__value bg_color_limit4"></a></span>'),n.html(d)}}(n,i),B(),n.addClass("is-t4s-pr-created")}),T4SThemeSP.Tooltip(),T4SThemeSP.Compare.updateAll(),T4SThemeSP.Wishlist.updateAll()},initQuickVS:function(){function t(){var t=e(".t4s-product-quick-view"),n=t.find("[data-product-featured]:not(.initProducts__enabled)");n.addClass("initProducts__enabled"),new T4SThemeSP.Product(n[0]);var o=t.find("[data-main-media]");o.hasClass("flickityt4s")&&!o.hasClass("flickityt4s-enabled")&&(o[0].flickityt4s=new T4SThemeSP.Carousel(o[0])),T4SThemeSP.PopupMFP(),T4SThemeSP.initGroupsProduct(),window.Shopify&&Shopify.PaymentButton&&Shopify.PaymentButton.init(),T4SThemeSP.ProductItem.reloadReview()}function a(){var t=e(".t4s-product-quick-shop:not(.initProducts__enabled)");t.addClass("initProducts__enabled"),new T4SThemeSP.Product(t[0]),window.Shopify&&Shopify.PaymentButton&&Shopify.PaymentButton.init()}j&&o.addClass("t4s-pr-item-has-qty"),i.on("click","[data-action-quickview], [data-action-quickshop]",function(o){o.preventDefault();var r=e(this);if(!r.hasClass(O)){var s=r.attr("href"),l=r.is("[data-action-quickview]"),c=l?"main-qv":"main-qs",d=l?"t4s-opening-qv":"t4s-opening-qs",u=r.data("id"),p=ee[c+u];if(T4SThemeSP.isEditCartReplace="0"==r.data("edit"),T4SThemeSP.iDVariantEdit=u,T4SThemeSP.keyVariantEdit=r.data("key"),p)T4SThemeSP.NTpopupInline(p,c,l?t:a,d),i.trigger("modalt4s:opened");else{if(T4SThemeSP.isEditCartReplace){var f=r.closest("[data-cart-item]"),m=r.closest("[data-cart-wrapper]"),h=f.find(".t4s-cart-ld__bar"),g=h.find(".t4s-cart-spinner");m.addClass("is--contentUpdate"),f.addClass("is--update"),h.removeAttr("hidden"),g.removeAttr("hidden"),n.on("cart:updated",function(e){m.removeClass("is--contentUpdate"),n.off("cart:updated"),f.removeClass("is--update"),h.attr("hidden",""),g.attr("hidden","")})}else r.addClass(O);fetch(function(e,t){return e+(e.indexOf("?")>-1||e.indexOf("&")>-1?"&":"/?")+t}(s,"section_id="+c)).then(function(e){return e.text()}).then(function(o){r.removeClass(O),n.trigger("cart:updated"),o=IsDesignMode?e(o).find("template").html():e(o).html(),T4SThemeSP.NTpopupInline(o,c,l?t:a,d),i.trigger("modalt4s:opened"),ee[c+u]=o}).catch(function(e){r.removeClass(O),n.trigger("cart:updated"),console.log(e)})}}})},recalculateSwatches:B,clickMoreSwatches:function(){(x||"2"!=C)&&i.on("click",".t4s-pr-color__item.is--colors-more>a",function(t){t.preventDefault();var n=e(this).closest("."+L);n.hasClass(R)?(n.removeClass(R),e(this).siblings().text(x)):(n.addClass(R),e(this).siblings().text(z))})},swatchesClickHover:function(){T4SThemeSP.isTouch?i.on("click",q,function(){Z(e(this))}):i.hoverIntent({selector:q,sensitivity:6,interval:100,timeout:100,over:function(t){Z(e(this))},out:function(){}})},resizeObserver:function(){var t=e(F+".flickityt4s-enabled .t4s-product:not(.t4s_observered), "+F+".isotopet4s-enabled .t4s-product:not(.t4s_observered)");if(0!=t.length&&window.ResizeObserver){var n=new ResizeObserver(function(t){t.forEach(function(t){var n,o=e(t.target),i=o.is(F)?o:o.closest(F);clearTimeout(n),i.addClass("is-t4s--doing"),n=setTimeout(function(){i.hasClass("flickityt4s-enabled")?i.flickityt4s("resize"):i.hasClass("isotopet4s-enabled")&&i.isotopet4s("layout"),i.removeClass("is-t4s--doing")},250)})});t.each(function(t){n.observe(this),e(this).addClass("t4s_observered")})}},reloadReview:function(){if("1"==H&&"undefined"!=typeof SPR)return window.SPR.registerCallbacks(),window.SPR.initRatingHandler(),window.SPR.initDomEls(),window.SPR.loadProducts(),window.SPR.loadBadges();"8"==H&&"undefined"!=typeof SMARTIFYAPPS&&SMARTIFYAPPS.rv.installed?SMARTIFYAPPS.rv.scmReviewsRate.actionCreateReviews():"6"==H&&i.trigger("reloadReview.t4s")},loadjsRevew:function(){"6"==H&&$script(u.script12)}}}(),T4SThemeSP.ProductAjax=function(){var t={loading:"is--loading"},o={disabled:"aria-disabled"},a="disable"==u.cartType,r="cart"!=p?a?"cart_data":"cart_data,mini_cart":"cart_data,main-cart",s=u.enableAjaxCart,l=T4Sroutes.cart_add_url+".js",c=T4Sroutes.cart_change_url+".js",d=u.disATCerror;function f(e="json"){return{method:"POST",headers:{"Content-Type":"application/json",Accept:`application/${e}`}}}function m(e=!1){e&&!d&&T4SThemeSP.Notices(e)}function h(e){e.addClass(t.loading).attr("aria-disabled",!0),e.find(".loading-overlay__spinner").removeAttr("hidden"),e.find(".t4s-svg-spinner").removeAttr("hidden");const a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"}};var s,d;a.body=(s=e.closest("form")[0],d=[],Array.prototype.slice.call(s.elements).forEach(function(e){!e.name||e.disabled||["file","reset","submit","button"].indexOf(e.type)>-1||("select-multiple"!==e.type?["checkbox","radio"].indexOf(e.type)>-1&&!e.checked||d.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)):Array.prototype.slice.call(e.options).forEach(function(t){t.selected&&d.push(encodeURIComponent(e.name)+"="+encodeURIComponent(t.value))}))}),d.join("&")+"&sections="+r+"&sections_url="+encodeURIComponent(window.location.pathname)),a.credentials="same-origin",n.on("cart:updated",function(a){e.removeClass(t.loading).removeAttr(o.disabled),e.find(".loading-overlay__spinner").attr("hidden",""),e.find(".t4s-svg-spinner").attr("hidden",""),n.off("cart:updated"),i.trigger("modalt4s:closed")}),fetch(`${l}`,a).then(e=>e.json()).then(e=>{if(e.status)return m(e.description),void n.trigger("cart:updated");if(T4SThemeSP.isEditCartReplace&&e.variant_id!=T4SThemeSP.iDVariantEdit){const e=f("javascript");e.headers["X-Requested-With"]="XMLHttpRequest",e.body=JSON.stringify({id:`${T4SThemeSP.keyVariantEdit}`,quantity:0}),fetch(`${c}`,e).then(e=>e.json()).then(e=>{e.status?m(e.description):v(e.sections)}).catch(e=>{console.error(e)})}else v(e.sections)}).catch(e=>{n.trigger("cart:updated")}).finally(()=>{})}function g(e,t,o){var i=e.closest("[data-cart-item]"),a=e.closest("[data-cart-wrapper]"),s=i.find(".t4s-cart-ld__bar"),l=s.find(".t4s-cart-spinner");a.addClass("is--contentUpdate"),i.addClass("is--update"),s.removeAttr("hidden"),l.removeAttr("hidden"),n.on("cart:updated",function(e){a.removeClass("is--contentUpdate"),n.off("cart:updated"),i.removeClass("is--update"),s.attr("hidden",""),l.attr("hidden","")});const d=f("javascript");d.headers["X-Requested-With"]="XMLHttpRequest",d.body=JSON.stringify({id:t,quantity:o,sections:r,sections_url:window.location.pathname}),fetch(`${c}`,d).then(e=>e.json()).then(e=>{if(e.status)return m(e.description),void n.trigger("cart:updated");v(e.sections)}).catch(e=>{n.trigger("cart:updated"),console.error(e)})}function v(e){e?T4SThemeSP.Cart.renderContents(e):T4SThemeSP.Cart.getToFetch()}function y(){i.on("click","[data-action-atc]",function(i){s&&(i.preventDefault(),function(e){e.addClass(t.loading).attr(o.disabled,!0);const i=f("javascript");i.headers["X-Requested-With"]="XMLHttpRequest";var a=e.attr("data-variant-id"),s=parseInt(e.prev("[data-quantity-wrapper]").find("[data-quantity-value]").val())||e.data("qty")||1,c=[];c.push({id:a,quantity:s}),i.body=JSON.stringify({items:c,sections:r,sections_url:window.location.pathname}),n.on("cart:updated",function(i){e.removeClass(t.loading).removeAttr(o.disabled),n.off("cart:updated")}),fetch(`${l}`,i).then(e=>e.json()).then(e=>{if(e.status)return m(e.description),void n.trigger("cart:updated");v(e.sections)}).catch(e=>{n.trigger("cart:updated"),console.error(e)})}(e(this)))})}function w(){e("[data-cart-items]").off("change").on("change","[data-action-change]",function(t){var n=e(this),o=(n.closest("[data-cart-item]"),n.data("id")),i=n.val()||1;n.attr("max");s&&g(n,o,i)}).off("click.remove").on("click.remove","[data-cart-remove]",function(t){if(s){t.preventDefault();var n=e(this);g(n,n.data("id"),0)}})}return{init:function(){n.on("submitAtc:t4s",function(t){t.$container.find('[data-type="add-to-cart-form"]').on("click","[data-atc-form]",function(t){s&&(t.preventDefault(),e(this).attr(o.disabled)?T4SThemeSP.Notices(T4SProductStrings.pleaseChooseOptions):h(e(this)))})}),e('[data-type="add-to-cart-form"]').on("click","[data-atc-form]",function(t){s&&(t.preventDefault(),e(this).attr(o.disabled)?T4SThemeSP.Notices(T4SProductStrings.pleaseChooseOptions):h(e(this)))}),y(),w()},change:w}}(),T4SThemeSP.T4sQuantityAdjust=function(){var t=s.notice_stock_msg,n=u.disOnlyStock;return String.prototype.getDecimals||(String.prototype.getDecimals=function(){var e=(""+this).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}),function(){i.on("change","[data-quantity-value]",function(o){var a=e(this),r=(a.data("id"),a.val()||1),s=a.attr("max")||9999,l=a.attr("min")||1,c=a.closest(".fgr_frm");if(c.length>0&&(subtt_price_group(c),i.trigger("currency:update")),parseInt(r)>parseInt(s)){if(r=s,a.val(r),n)return;return T4SThemeSP.Notices(t.replace("[max]",s)),!1}if(parseInt(r)<parseInt(l))return a.val(l),!1}),i.on("click","[data-quantity-selector]",function(o){o.preventDefault();var i=e(this),a=i.closest("[data-quantity-wrapper]").find("[data-quantity-value]"),r=parseFloat(a.val()),s=parseFloat(a.attr("max")),l=parseFloat(a.attr("min")),c=a.attr("step");if(r&&""!==r&&"NaN"!==r||(r=0),""!==s&&"NaN"!==s||(s=""),""!==l&&"NaN"!==l||(l=0),"any"!==c&&""!==c&&void 0!==c&&"NaN"!==parseFloat(c)||(c=1),i.is("[data-increase-qty]")){if(s&&r>=s){if(a.val(s),n)return;return T4SThemeSP.Notices(t.replace("[max]",s)),!1}a.val((r+parseFloat(c)).toFixed(c.getDecimals()))}else l&&r<=l?a.val(l):r>0&&a.val((r-parseFloat(c)).toFixed(c.getDecimals()));a.trigger("change")})}}(),T4SThemeSP.agreeForm=function(){var t=!1,n="[data-agree-checkbox]";return function(){t||0==e(n).length||(t=!0,i.on("click",'[data-agree-btn], [name="checkout"], [name="goto_pp"], [name="goto_gc"]',function(t){e(this).closest("form").find(`[type="checkbox"]${n}`).is(":checked")?e(this).submit():(t.preventDefault(),t.stopPropagation(),T4SThemeSP.Notices(s.agree_checkout))}),i.on("click",n,function(t){e(this).closest("form"),e(this).is(":checked")&&i.trigger("hide.t4s.notices")}))}}(),T4SThemeSP.PhotoSwipe=function(){var t=e("#photoswipe_template").html(),o="pswp__thumbnails",a="pswp_thumb_active",r=!1,l="[data-pswp-btn-triger], [data-t4s-gallery--open]:not(.is-pswp-disable)",c="click.pswp",d="data-pswp-images-trigger",u=".pswp__t4s";function p(t,n,o,i){if(!(t<=1)){for(var r=0;r<t;r++)o.append('<div class="pswp_thumb_item" data-index="'+(r+1)+'"><img loading="lazy" src="'+n[r].src+'" alt="pswp-thumb-img"></div>');o.find('.pswp_thumb_item[data-index="'+(i.getCurrentIndex()+1)+'"]').addClass(a),i.listen("beforeChange",function(){var e=i.getCurrentIndex()+1,t=o.find('.pswp_thumb_item[data-index="'+e+'"]');t.siblings().removeClass(a),t.addClass(a)}),i.listen("afterChange",function(){!function(t){let n=e("."+a)[0],o=t,i=o[0],r=n.getBoundingClientRect(),s=i.getBoundingClientRect();r.left+r.width>s.width?o.animate({scrollLeft:n.offsetLeft+r.width-s.width+10},200):n.offsetLeft<i.scrollLeft&&o.animate({scrollLeft:n.offsetLeft-10},200)}(o)}),o.find(".pswp_thumb_item").on("click",function(){var t=e(this).data("index");i.goTo(t-1)})}}return{gallery:function(){e("[data-t4s-gallery].flickityt4s-enabled").on("dragEnd.flickityt4s",function(e,t){r=!0}).on("staticClick.flickityt4s",function(e,t,n,o){r=!1}),n.on(c,l,function(n){n.preventDefault();var a=e(this),c=-1;if(a.is("[data-pswp-btn-triger]")){var d=a.closest("[data-t4s-group-btns]")||a,f=a[0].hasAttribute("data-pr-trigger-pswp"),m=d.siblings("[data-t4s-gallery]");c=function(t,n,o){return n.hasClass("flickityt4s-enabled")?n.find(o+".is-selected").index():e(t.currentTarget).is(l)?0:e(t.currentTarget).index()}(n,m,h=f?'[data-media-type="image"]:not(.is--media-hide)':"[data-t4s-gallery--item]"),a=m.find("[data-t4s-gallery--open]").eq(c),r=!1}else var h=(f=a.hasClass("t4s-product__media"))?'[data-media-type="image"]:not(.is--media-hide)':"[data-t4s-gallery--item]";var g=a.parents(h),v=a.closest("[data-t4s-gallery]"),y=v.find(f?'[data-media-type="image"]:not(.is--media-hide) [data-master]':"[data-pswp-src]");if(0==y.length||r)r=!1;else{var w=v.is("[data-t4s-thumb-true]"),T=function(t){var n,o=[];return t.each(function(){n=e(this),o.push({src:n.attr("data-pswp-src")||n.attr("data-master"),w:n.attr("data-pswp-w")||n.attr("width"),h:n.attr("data-pswp-h")||n.attr("height")})}),o}(y),b=parseFloat(v.attr("data-maxSpreadZoom")),S=v.attr("data-fullscreenEl"),x=v.attr("data-shareEl"),C=v.attr("data-counterEl");!function(n){var a=n.items,r=a.length,l=n.index,c=n.galleryItems,d={closeEl:!0,captionEl:!0,fullscreenEl:n.fullscreenEl||!0,zoomEl:!0,shareEl:n.shareEl||!0,counterEl:n.counterEl||!0,arrowEl:!0,preloaderEl:!0,history:!1,maxSpreadZoom:n.maxSpreadZoom||2,showHideOpacity:!0,bgOpacity:1,index:n.index,tapToToggleControls:!0,shareButtons:[{id:"facebook",label:s.pswp_facebook,url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:s.pswp_twitter,url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:s.pswp_pinterest,url:"https://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"}],getThumbBoundsFn:function(e){var t=c.find(n.parents).eq(e);n.global&&(t=c.find("a[data-index="+e+"]").parents(n.parents));var o=window.pageYOffset||document.documentElement.scrollTop,i=t[0].getElementsByTagName("img")[0].getBoundingClientRect();return{x:i.left,y:i.top+o,w:i.width}}};i.find(u).remove(),T4SThemeSP.$appendComponent.after(t),isThemeRTL&&(l=r-l-1,a=a.reverse());var f,m=document.querySelectorAll(u)[0],h=e("."+o),g=new PhotoSwipe(m,PhotoSwipeUI_Default,a,d);g.init(),h.empty(),clearTimeout(f),i.trigger("NTpopupInline:offClose"),g.listen("close",function(){if(f=setTimeout(function(){i.trigger("NTpopupInline:onClose")},500),c.hasClass("flickityt4s-enabled")){if(isThemeRTL)var e=r-g.getCurrentIndex();else e=g.getCurrentIndex();c.flickityt4s("selectCell",e,!1,!0)}}),n.HasThumb&&p(r,a,h,g)}({index:c=c>-1?c:g.index(),items:T,HasThumb:w,galleryItems:v,parents:h,global:!1,maxSpreadZoom:b,fullscreenEl:S,shareEl:x,counterEl:C})}})},image:function(){n.on(c,"[data-t4s-image-opend]",function(n){n.preventDefault(),function(n){i.find(u).remove(),T4SThemeSP.$appendComponent.after(t);var o=e(u),a=o[0],r=n.attr("data-pswp-class");r&&o.addClass(r);var s={history:!1,maxSpreadZoom:2,showHideOpacity:!0,fullscreenEl:!1,shareEl:!1,counterEl:!1,bgOpacity:1,getThumbBoundsFn:function(e){var t=window.pageYOffset||document.documentElement.scrollTop,o=n[0].getBoundingClientRect();return{x:o.left,y:o.top+t,w:o.width}}},l=[],c=n.attr("data-pswp-w"),d=n.attr("data-pswp-h"),p=n.attr("data-pswp-src");l.push({src:p,w:c,h:d,title:n.text()});var f,m=new PhotoSwipe(a,PhotoSwipeUI_Default,l,s);m.init(),clearTimeout(f),i.trigger("NTpopupInline:offClose"),m.listen("close",function(){f=setTimeout(function(){i.trigger("NTpopupInline:onClose")},500)})}(e(this))})},images:function(){n.on(c,`[${d}]`,function(n){n.preventDefault();let a=e(this),r=w(a.attr(d),"[]");0!=r.length&&function(n,a){if(!n)return;i.find(u).remove(),T4SThemeSP.$appendComponent.after(t);let r=n.length,s=document.querySelectorAll(u)[0],l=e("."+o),c=n.map((e,t)=>({src:e.src,w:e.width,h:e.height,alt:e.alt})),d=new PhotoSwipe(s,PhotoSwipeUI_Default,c,{history:!1,focus:!1,showAnimationDuration:0,hideAnimationDuration:0});d.init(),a.is("data-disable-thumb")||p(r,c,l,d)}(r,a)})}}}(),T4SThemeSP.Video=function(){var t="t4s-postervideo-playing";function n(){e(".js-youtube").each(function(){this.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),e(".js-vimeo").each(function(){this.contentWindow.postMessage('{"method":"pause"}',"*")}),e("video:not(.t4s_bg_vid_html5)").each(function(){this.pause()}),e(".product-model").each(function(){this.modelViewerUI&&this.modelViewerUI.pause()})}return{initPoster:function(){e("[data-video-poster-btn]").on("click",function(o){o.preventDefault();var i=e(this).closest("[data-video-poster]"),a=i.find("video, iframe");n(),function(e,t){if(!e.is("[loaded]")){var n=e.find("[data-video-insert]").length?e.find("[data-video-insert]"):e,o='<iframe src="src_t4s" class="class_t4s" title="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',i=JSON.parse(t.attr("data-options")||"{}"),a=i.type,r=i.vid,s=i.src,l=i.autoplay,c=i.loop,d="vimeo";"youtube"==a?o=o.replace("src_t4s","//www.youtube.com/embed/"+r+"?enablejsapi=1&showinfo=0&controls=1&modestbranding=1&autoplay="+ +l+"&rel=0"+(c?"&playlist="+r+"&loop=1":"")).replace("class_t4s","js-youtube"):a==d?o=o.replace("src_t4s","//player.vimeo.com/video/"+r+"?&portrait=0&byline=0&color="+i.accent_color+"&autoplay="+ +l+"&loop="+ +c).replace("class_t4s","js-vimeo"):(o='<video src="src_t4s" preload="auto" controls data-autoplay data-loop playsinline></video>'.replace("src_t4s",s),l&&(o=o.replace("data-autoplay","autoplay")),c&&(o=o.replace("data-loop","loop"))),n.append(o),e.attr("data-type-video-inline","").attr("loaded",!0)}}(i,e(this)),setTimeout(function(){i.addClass(t),a.focus()},50)}),e("[data-video-poster-close]").on("click",function(o){o.preventDefault(),n();var i=e(this).closest("[data-video-poster]");i.removeAttr("loaded").removeClass(t),i.find("video, iframe").remove()})}}}();var T=function(){var t,n="is--loading";function o(t){this.container=t,this.$container=e(t),this.options=JSON.parse(this.$container.attr("data-ntajax-options")),this.main=this.options.id||"",this.typeAjax=this.options.type||"LmDefault",this.isProduct=this.options.isProduct||!1,this.$section=e(`#shopify-section-${this.main}`),self.isbtnLoadMore=!0,this.setupEventListeners()}return o.prototype=Object.assign({},o.prototype,{setupEventListeners:function(){var o=this;o.$container.on("click.ntlm","[data-load-more]",function(i){i.preventDefault();const a=e(this);a.addClass(n),t=`${a.attr("href")}&section_id=${o.main}`,o.isbtnLoadMore=!e(this).is("[data-is-prev]"),o.$btnCurrent=e(this),o.renderSectionFromFetch(t)})},renderSectionFromFetch:function(e){var t=this;fetch(e).then(e=>e.text()).then(e=>{t.$btnCurrent.removeClass(n),t[t.typeAjax](e),this.isProduct&&T4SThemeSP.reinitProductGridItem(),i.trigger("t4s:hideTooltip")}).catch(e=>{t.$btnCurrent.removeClass(n),console.log(e)})},LmDefault:function(t){var n=e(t),o=n.find("[data-contentlm-replace]").html(),i=this.isbtnLoadMore?n.find("[data-wrap-lm]"):n.find("[data-wrap-lm-prev]"),a=this.$section.find("[data-contentlm-replace]");this.isbtnLoadMore?a.append(o):a.prepend(o),this.initLoamoreUpdate(i)},LmIsotope:function(t){var n=e(t),o=n.find("[data-contentlm-replace]").html(),i=this.isbtnLoadMore?n.find("[data-wrap-lm]"):n.find("[data-wrap-lm-prev]"),a=this.$section.find("[data-contentlm-replace]");o=e(o),this.isbtnLoadMore?a.append(o).isotopet4s("appended",o):a.prepend(o).isotopet4s("prepended",o),this.initLoamoreUpdate(i)},initLoamoreUpdate:function(e){e.length>0&&this.isbtnLoadMore?this.$section.find("[data-wrap-lm]").html(e.html()):this.isbtnLoadMore?this.$section.find("[data-wrap-lm]").hide():e.length>0&&!this.isbtnLoadMore?this.$section.find("[data-wrap-lm-prev]").html(e.html()):this.isbtnLoadMore||this.$section.find("[data-wrap-lm-prev]").hide()}}),o}();T4SThemeSP.initLoadMore=function(){e("[data-ntajax-options][data-not-main]:not(is--enabled)").each(function(){e(this).addClass("is--enabled"),this.LoadMore=new T(this)})},T4SThemeSP.reinitProductGridItem=function(){this.ProductItem.init(),this.ProductItem.reloadReview(),this.Tooltip(),T4SThemeSP.Countdown(),T4SThemeSP.Compare.updateAll(),T4SThemeSP.Wishlist.updateAll(),i.trigger("currency:update")},T4SThemeSP.instagram=function(){var t="https://d3ejra0xbg20rg.cloudfront.net/instagram/media?shop="+Shopify.shop+"&resource=default",n="ins_19041994",o="ig_t4s_token",i="true"===CookiesT4.get(o),a=".t4s-icons-ins-svg",r=e(a).html()||"",s=r.split("[t4split]"),l={loaded:"ins-is--loaded"};function c(t,n,o,i,c,d,u){1==s.length&&(r=e(a).html()||"",s=r.split("[t4split]"));var p="",f=(o=o||!0,{IMAGE:"image",VIDEO:"video",CAROUSEL_ALBUM:"carousel_album"}),m={image:s[0],video:s[1],carousel_album:s[2]};e.each(n,function(e,t){if(e>=c)return 0;var n=t.thumbnail_url||t.media_url,o=f[t.media_type];p+='<div class="t4s-col-ins'+e+" t4s-col-ins t4s-col-item t4s-ins-type-"+o+'"><a data-no-instant rel="nofollow" class="t4s-d-block t4s-pr t4s-oh" href="'+t.permalink+'" target="'+u+'"><div class="t4s_ratio t4s_bg lazyloadt4s t4s-lz--ins" data-bg="'+n+'" data-sizes="auto"></div><span class="lazyloadt4s-loader"></span><div class="t4s-ins-info"><span class="t4s-ins-icon">'+m[o]+"</span></div></a></div>"}),t.html(p).parent().addClass(l.loaded),t.hasClass("flickityt4s-later")&&(t[0].flickityt4s=new T4SThemeSP.Carousel(t[0])),isStorageSpSessionAll&&o&&(sessionStorage.setItem("nt_ins"+i+d,p),sessionStorage.setItem("nt_ins"+i,JSON.stringify({timestamp:new Date,content:n})))}return function(){0!=e("[data-inst4s-options]").length&&e("[data-inst4s-options]").each(function(a){!function(e){var a,r,s=w(e.attr("data-inst4s-options")),d=null,u=null,p=s.id,f=s.limit,m=s.acc||"spnt_t4",h=s.target;if("spnt_t4"!=m){if(m=atob(m),isStorageSpSessionAll&&(d=sessionStorage.getItem("nt_ins"+m+p),null!=(u=sessionStorage.getItem("nt_ins"+m))&&""!=u&&(a=new Date,(r=new Date(u.timestamp)).setMinutes(r.getMinutes()+30),a.getTime()>r.getTime()&&(u=null,d=null,sessionStorage.removeItem("nt_ins"+m+p),sessionStorage.removeItem("nt_ins"+m)))),null!=d&&""!=u){if(e.html(d).parent().addClass(l.loaded),!e.hasClass("flickityt4s-later"))return;return e[0].flickityt4s=new T4SThemeSP.Carousel(e[0]),!1}null!=u&&""!=u?(u=JSON.parse(u).content,c(e,u,!1,m,f,p,h)):(m!=n&&(t="https://graph.instagram.com/me/media?fields=comments_count,like_count,id,media_type,media_url,permalink,thumbnail_url,caption,children&access_token="+m),fetch(t).then(function(e){if(!e.ok)throw new Error("not ok");return e.json()}).then(t=>{var a=m==n?t:t.data;c(e,a,!0,m,f,p,h),i||(CookiesT4.set(o,"true",{expires:7}),fetch("https://graph.instagram.com/refresh_access_token?grant_type=ig_refresh_token&access_token="+m))}).catch(t=>{e.html(""),console.error("Instagram Feed:error fetch")}))}}(e(this))})}}(),T4SThemeSP.sideBarInit=function(){var o=e("[data-sidebar-id]"),a=o.is("[data-sidebar-true]"),r=e("[data-sidebar-content]"),s=o.is("[data-is-disableDrawer]");if(0!=o.length){var l=o.attr("data-sidebar-id"),c=window.location.search.slice(1),d=`${window.location.pathname}?section_id=${l}&${c}`;fetch(d).then(e=>e.text()).then(e=>{if(a||t.width()<1024&&!s){var o=(l=e.split("[t4splitlz]"))[2].split("[t4splitlz2]");T4SThemeSP.$appendComponent.after(o[0]+l[1]+o[1])}else{var l;o=(l=e.split("[t4splitlz]"))[2].split("[t4splitlz2]");r.html(l[1]),T4SThemeSP.$appendComponent.after(o[0]+l[1]+o[1])}T4SThemeSP.instagram(),T4SThemeSP.Countdown(),T4SThemeSP.Tooltip(),i.trigger("currency:update"),n.trigger("sidebar:updated")}).catch(e=>{r.html(""),console.log(e)})}},T4SThemeSP.Drawer=function(){var t={overlayVisible:"is--visible"},a=!1,r="click.drawer",s="keyup.drawer",u="data-drawer-options",p="data-drawer-delay";function f(n,i,r=!1){if(!a){n&&n.preventDefault();var s=w(i.attr(u));(r?i:e(s.id)).attr("aria-hidden","false"),l.addClass(t.overlayVisible),a=!0,o.addClass(c),T4SThemeSP.Helpers.disableBodyScroll(!0,d)}}function m(n){a&&(n&&n.preventDefault(),e(".t4s-drawer[aria-hidden=false]").attr("aria-hidden","true"),l.removeClass(t.overlayVisible),a=!1,o.removeClass(c),T4SThemeSP.Helpers.disableBodyScroll(!1,d),l.off(r),i.off(r),i.off(s))}function h(){l.on(r,function(e){m(e)}),i.on(r,"[data-drawer-close]",function(e){m(e)}),i.on("keyup.drawer",function(e){27===e.keyCode&&m(e)})}return{init:function(){n.on(r,"["+u+"]:not(["+p+"])",function(t){f(t,e(this)),h()}),function(){let t=e("[data-sidebar-trigger]"),n=e(".t4s-btn-sidebar");0!=t.length&&0!=n.length&&t.on(r,function(e){e.preventDefault(),n.trigger(r)})}()},opend:function(e){a=!1,f(null,e,!0),h()},close:m,remove:function(t){e("["+u+'*="#'+t+'"]').removeAttr(p)}}}(),T4SThemeSP.BackToTop=function(){var n,o=e("#t4s-backToTop"),i=parseInt(o.data("scrolltop"));return function(){t.width()<768&&o.data("hidden-mobile")||0==o.length||(t.scroll(function(){n&&clearTimeout(n),n=setTimeout(function(){e(this).scrollTop()>i?o.addClass("is--show"):o.removeClass("is--show")},40)}),o.on("click",function(t){t.preventDefault(),e("html, body").animate({scrollTop:0},800)}))}}(),T4SThemeSP.Header=function(){var n,i,r=".t4s-section-header",s=document.querySelector(r),l={},c=0,d=!1,u="data-header-options",p=e(s).find("["+u+"]").attr(u)||"{}",m=(p=JSON.parse(p)).isSticky,h=p.hideScroldown,g=document.documentElement,v="is-action__hover",y=e("[data-menu-nav]"),w=y.find(">li.has--children"),T=(w.find(">.t4s-sub-menu"),e(s)),b=(e(".t4s-website-wrapper"),"calc-pos-submenu"),S=(T.hasClass("header-vertical"),"#shopify-section-header-categories-menu"),x="#shopify-section-header-categories",C=e(S),_=e(x);function P(){IsDesignMode&&(s.removeEventListener("preventHeaderReveal",k),window.removeEventListener("scroll",I),s=document.querySelector(".t4s-section-header"),l={},c=0,d=!1,p=e(s).find("["+u+"]").attr(u)||"{}",p=JSON.parse(p),m=p.isSticky,h=p.hideScroldown),m&&h&&(I(),d=!0,s.addEventListener("preventHeaderReveal",k),window.addEventListener("scroll",I,!1),new IntersectionObserver((e,t)=>{l=e[0].intersectionRect,t.disconnect()}).observe(s))}function k(){d=!0}function I(){const e=window.pageYOffset||document.documentElement.scrollTop;e>c&&e>l.bottom?requestAnimationFrame(D):e<c&&e>l.bottom?d?(window.clearTimeout(n),n=setTimeout(()=>{d=!1},366),requestAnimationFrame(D)):requestAnimationFrame(A):e<=l.top&&requestAnimationFrame(E),c=e}function D(){g.classList.add("is-header--stuck"),s.classList.add("shopify-section-header-hidden","shopify-section-header-sticky")}function A(){g.classList.add("is-header--stuck"),s.classList.add("shopify-section-header-sticky","animate"),s.classList.remove("shopify-section-header-hidden")}function E(){g.classList.remove("is-header--stuck"),s.classList.remove("shopify-section-header-hidden","shopify-section-header-sticky","animate")}function M(t,n){var o=e(n);t.each(function(t){var n,i=e(this),a="#t4s-mega-contents"+i.data("id");i.html(o.find(a).html()),i.find(".t4s-products .t4s-product").length>0&&T4SThemeSP.reinitProductGridItem(),setTimeout(function(){i.hasClass("isotopet4s")&&T4SThemeSP.Isotopet4s.init(i),F(i.closest(".has--children")),T4SThemeSP.PopupMFP(),0!=(n=i.find(".flickityt4s-later")).length&&n.each(function(e){this.flickityt4s=new T4SThemeSP.Carousel(this)})},600)})}function O(t){if(t&&(w=t),!(T4SThemeSP.isTouch||a<1024||0==w.length)){w.each(function(t,n){var o=e(this);o.hoverIntent({sensitivity:3,interval:35,timeout:150,over:function(e){o.addClass(v)},out:function(){o.removeClass(v)}})})}}function R(t){i=t?t.find(">a"):w.find(">a"),T4SThemeSP.isHover||a<1024||0==i.length||i.on("click.menu",function(t){t.preventDefault();let n=e(this).parent();n.hasClass(v)?(n.removeClass(v),e(document).off("click.menuIntent")):(n.addClass(v).siblings().removeClass(v),e(document).on("click.menuIntent",function(t){var n=t.target;e(n).is("."+v)||e(n).parents("li").is("."+v)||(console.log("click.menu"),y.find("."+v).removeClass(v),e(document).off("click.menuIntent"))}))})}function $(t){t&&(w=t),a<1024||0==w.length||(IsDesignMode&&(T=e(r)),w.each(function(t,n){F(e(this))}),T.addClass(b))}function L(){if(!(t.width()<1024)){IsDesignMode&&(T=e(r)),T.removeAttr("style").css({"--t4s-max-width":`${t.width()-10}px`,"--t4s-max-height":`${t.height()-T.offset().top-T.height()-20}px`});var n=e("#t4s-nav-categories");0!=n.length&&n.removeAttr("style").css({"--t4s-max-width":`${t.width()-n.offset().left-n.width()}px`,"--t4s-max-height":`${t.height()-n.offset().top-10}px`})}}function F(t){var n=t.find(">a")[0],o=t.find(">.t4s-sub-menu")[0],i=t.data("placement")||"bottom";if(t.hasClass("menu-width__full")&&"right-start"!=i||!o)return;if(e(o).attr("style",""),!window.ResizeObserver)return;FloatingUIT4sDOM.autoUpdate(n,o,async function(){"bottom"==i&&!t.hasClass("t4s-type__drop")&&function(t){var n=e(t);n.attr("style","");var o=n.outerWidth(),i=n.offset();if(!o||!i)return!1;var r=i.left,s=(a-o)/2;return!isThemeRTL&&s<=r&&r<=s+o&&a>=s+o?(n.addClass("is--center-screen"),!0):isThemeRTL&&s<=r+o&&r<=s&&a>=s+o?(n.addClass("is--center-screen"),!0):(n.removeClass("is--center-screen"),!1)}(o)||FloatingUIT4sDOM.computePosition(n,o,{placement:i,middleware:[FloatingUIT4sDOM.flip({}),FloatingUIT4sDOM.shift({padding:5})]}).then(({x:e,y:t,placement:n,middlewareData:i})=>{Object.assign(o.style,{left:`${e}px`,top:n.indexOf("bottom")>-1?"100%":`${t}px`})})},{ancestorResize:!0})}function N(t){var n=C.find("[data-wrapper-categories]");n.html(t);var o=n.find("#t4s-nav-categories>.has--children");O(o),R(o),$(o),n.find(".t4s-products .t4s-product").length>0&&T4SThemeSP.reinitProductGridItem();var i=n.find(".isotopet4s-later"),a=n.find(".flickityt4s-later");i.length>0&&i.each(function(t){T4SThemeSP.Isotopet4s.init(e(this))}),i.length>0&&a.each(function(e){this.flickityt4s=new T4SThemeSP.Carousel(this)})}return{stickyInit:function(){!m||m&&h||new IntersectionObserver(function(e){0===e[0].intersectionRatio?g.classList.add("is-header--stuck"):1===e[0].intersectionRatio&&g.classList.remove("is-header--stuck")},{threshold:[0,1]}).observe(document.querySelector("#t4s-hsticky__sentinel")),P(),t.on("resize",function(){o.css({"--topbar-height":e("#t4s-top-bar-main").height()+"px","--header-height":e(".t4s-section-header").height()+"px"})})},init:function(n){var o;o=e(".t4s-type__mega .t4s-lazy_menu"),isStorageSpSession&&sessionStorage.getItem("t4s-mega-contents"),0==o.length||a<1024||fetch(T4SThemeSP.root_url+"?sections=mega-menu,mega-menu2",{method:"GET",headers:{"Cache-Control":"no-cache"}}).then(e=>e.json()).then(e=>{if(e.status)console.error(e.description);else{var t="";for(const n in e)t+=e[n].split("[nt_mega_split1]")[1];M(o,"<div>"+t+"</div>"),isStorageSpSession&&sessionStorage.setItem("t4s-mega-contents","<div>"+t+"</div>")}}).catch(e=>{console.error(e)}),function(){var t=e(".t4s-type__drop .t4s-lazy_menu");if(isStorageSpSession&&sessionStorage.getItem("t4s-drop-contents"),!(0==t.length||a<1024||IsDesignMode)){var n=[];t.each(function(t){n.push(e(this).data("handle"))}),n="/"+n.join("+"),fetch(`${window.T4Sroutes.all_url}${n}/?section_id=dropdown-menu`,{method:"GET",headers:{"Cache-Control":"no-cache"}}).then(e=>e.text()).then(n=>{var o=n.split("[nt_drop_split1]")[1],i=o.split("[nt_drop_split2]");t.each(function(t){e(this).html(i[t]),F(e(this).closest(".has--children"))}),isStorageSpSession&&sessionStorage.setItem("t4s-drop-contents",o)}).catch(e=>{console.error(e)})}}(),O(n),R(n),L(),$(n),0!=C.find("[data-wrapper-categories]").length&&(0==_.length?fetch(f+"/?section_id=header-categories").then(function(e){return e.text()}).then(function(e){N((new DOMParser).parseFromString(e,"text/html").querySelector("div").innerHTML)}).catch(function(e){console.log(e)}):IsDesignMode&&(C=e(S),N((_=e(x)).html()))),setTimeout(function(){t.on("resize.menu",L)},2e3)},updateCat:N}}(),T4SThemeSP.MobileNav=function(){var t={tabNavActive:"is--active",opend:"is--opend"},n={};function o(e){e.hasClass(t.opend)?e.removeClass(t.opend).children("ul").slideUp(200):e.addClass(t.opend).children("ul").slideDown(200)}return function(){(n={$mobileNav:e("#t4s-menu-drawer")}).$mobileNav.on("click","[data-tab-mb-nav]>[data-tab-mb-item]",function(){var n=e(this);n.hasClass(t.tabNavActive)||(n.addClass(t.tabNavActive).siblings().removeClass(t.tabNavActive),e("[data-tab-mb-content]."+t.tabNavActive).removeClass(t.tabNavActive),e(n.data("id")).addClass(t.tabNavActive))}),n.$mobileNav.on("click",".t4s-menu-item-has-children.t4s-only_icon_false>a",function(t){t.preventDefault(),t.stopPropagation(),o(e(this).parent())}),n.$mobileNav.on("click",".t4s-menu-item-has-children > a > .t4s-mb-nav__icon",function(t){t.preventDefault(),t.stopPropagation(),o(e(this).parent().parent())})}}(),T4SThemeSP.loadingBar=function(){return function(){console.log("loadingBar")}}(),T4SThemeSP.currencyForm=function(){var t={select:"is--selected",opend:"is--opend"},n={};function o(){var o,a,r,s,l;i.on("click","[data-locale-wrap] [data-locale-item] ,[data-currency-wrap] [data-currency-item]",function(i){var c;(i.preventDefault(),o=e(this),"2"==u.currency_type&&o.is("[data-currency-item]"))||(o.hasClass(t.select)||(o.is("[data-locale-item]")?(a="[data-locale-wrap]","[data-locale-wrap] [data-locale-item]",r="$localeSelector"):(a="[data-currency-wrap]","[data-currency-wrap] [data-currency-item]",r="$currencySelector"),s=o.attr("data-iso"),l=e(a+" ."+t.select).first().attr("data-iso"),e(a+" [data-current]").text(o.text()).removeClass("flagst4-"+l).addClass("flagst4-"+s),e(a+" [data-iso="+s+"]").addClass(t.select).siblings().removeClass(t.select),c=s,n[r].val(c),n.$formCurrencyLocale.submit(),T4SThemeSP.loadingBar()))})}return function(){0!=(n={$formCurrencyLocale:e("#CurrencyLangSelector"),$localeSelector:e("#LocaleSelector"),$currencySelector:e("#CurrencySelector")}).$formCurrencyLocale.length&&o()}}(),T4SThemeSP.productRecommendations=function(){var t={};return function(n){t={$recommendationsWrap:e("#pr_recommendations")},0!=(n=n||t.$recommendationsWrap).length&&"product"==p&&function(t){var n=t.data("type"),o=t.data("sid"),i=t.data("baseurl"),a=t.closest(".id_product-recommendations"),r=f+i+"&section_id="+o;"3"==n&&(r=i+"?section_id="+o+"&product_id="+t.data("id")+"&limit="+t.data("limit")),fetch(r,{method:"GET"}).then(e=>e.text()).then(n=>{var o=IsDesignMode?e(e(n)[2]).html():e(n).html();try{o.trim()}catch(t){o=e(n).html()}if(""!==o.trim()){if(t.html(o),t.find(".t4s-product").length>0&&T4SThemeSP.reinitProductGridItem(),t.find(".flickityt4s").length>0){var i=t.find(".flickityt4s")[0];i.flickityt4s=new T4SThemeSP.Carousel(i)}}else a.hide()}).catch(e=>{a.hide()})}(n)}}(),T4SThemeSP.recentlyViewed=function(){var t={};return function(n){t={$recentlyWrap:e("#recently_wrap")},n=n||t.$recentlyWrap,isStorageSpdLocalAll&&0!=n.length&&function(t){var n=localStorage.getItem("nt_recent"),o="product"==p?t.data("id"):"19041994",i=t.data("sid"),a=t.data("unpr"),r=t.data("limit"),s=t.closest(".id_recently_viewed");if(null!=n){var l=n.split(","),c=l.indexOf(o);if(c>-1?(l=l.splice(0,r+1)).splice(c,1):l=l.splice(0,r),0==l.length)return s.slideUp(),!1;var d=l.toString(),u=d.replace(/,/g," OR "),m=encodeURI(u);fetch(f+"/?section_id="+i+"&type=product&options[unavailable_products]="+a+"&q="+m,{method:"GET"}).then(e=>e.text()).then(n=>{var o=IsDesignMode?e(e(n)[2]).html():e(n).html();try{o.trim()}catch(t){o=e(n).html()}if(""!==o.trim()){if(t.html(o),t.find(".t4s-product").length>0&&T4SThemeSP.reinitProductGridItem(),t.find(".flickityt4s").length>0){var i=t.find(".flickityt4s")[0];i.flickityt4s=new T4SThemeSP.Carousel(i)}}else s.hide()}).catch(e=>{s.hide()})}else{s.hide();var l=new Array}l.indexOf(o)<0&&"19041994"!=o&&(l.length>r&&(l=l.splice(0,r)),l.unshift(o),localStorage.setItem("nt_recent",l.toString()))}(n)}}(),T4SThemeSP.Cart=function(){var t="[data-cart-items]",o="[data-cart-prices]",a="[data-cart-ship-text]",r="[data-cart-ship-bar]",s="[data-cart-discounts]",l=!0,c=!0,d="disable"==u.cartType,f={loading:"is--loading",none:"t4s-d-none"},m="cart"!=p?d?"cart_data":"cart_data,mini_cart":"cart_data,main-cart";function g(){T4SThemeSP.Drawer.remove("t4s-mini_cart"),e("[data-cart-count]").html(e("#t4s-mini_cart").data("ccount")),T4SThemeSP.Tooltip(),i.trigger("currency:update"),d||(T4SThemeSP.ProductAjax.change(),T4SThemeSP.agreeForm(),function(){if("cart"==p)return;var t=e("[data-cart-wrapper]");e("[data-cart-tools]").on("click","[data-cart-tool_action]",function(n){n.preventDefault();var o=e(this);e(".t4s-mini_cart-tool__content.is--"+o.data("id")).addClass("is--opend"),t.addClass("is--contentUpdate"),e("[data-cart-tool_close]").on("click",function(n){n.preventDefault(),e(".t4s-mini_cart-tool__content.is--"+o.data("id")).removeClass("is--opend"),t.removeClass("is--contentUpdate"),e("[data-cart-tool_close]").off("click")}),i.off("keyup.drawer").on("keyup.toolCart",function(n){27===n.keyCode&&(e(".t4s-mini_cart-tool__content.is--"+o.data("id")).removeClass("is--opend"),t.removeClass("is--contentUpdate"),i.off("keyup.toolCart").on("keyup.drawer",function(e){27===e.keyCode&&T4SThemeSP.Drawer.close(e)}))})})}(),T(),b(),S(),x())}function v(e=!1){fetch(T4SThemeSP.root_url+"?sections="+m,{method:"GET",headers:{"Cache-Control":"no-cache"}}).then(e=>e.json()).then(t=>{y(t,e)}).catch(e=>{})}function y(l,c=!0){var u=l.cart_data,f=l.mini_cart||l["main-cart"],m=e(f).find("[data-cart-wrapper]"),h=e(t),g=e(o),v=e(a),y=e(r),w=e(s);h.html(m.find(t).html()),g.html(m.find(o).html()),v.replaceWith(m.find(a).wrap()),y.attr("style",m.find(r).attr("style")),w.html(m.find(s).html()),u=(u=u.split("[t4s_split1]")[1]).split("[t4s_split2]"),e("[data-cart-count]").html(u[0]),e("[data-cart-tt-price]").html(u[1]),"1"==u[2]?(e(".t4s-mini_cart-tool__content.is--gift.is--opend [data-cart-tool_close]").trigger("click"),e("[data-toogle-gift]").hide()):e("[data-toogle-gift]").show(),T4SThemeSP.Tooltip(),i.trigger("currency:update"),"cart"==p||d||c&&T4SThemeSP.Drawer.opend(e("#t4s-mini_cart")),n.trigger("cart:updated"),x()}function w(t){var n,o=new Headers({"Content-Type":"application/json"}),i=("string"!=typeof(n=t)&&"undefined"==(n+="")&&(n=""),e.trim(n)),a={method:"POST",headers:o,body:JSON.stringify({note:i})};fetch(window.T4Sroutes.cart_url+"/update.js",a).then(function(e){return e.json()}).then(function(t){i.length>0?(e('[data-id="note"].is--editNote, .t4s-txt_edit_note').removeClass(f.none),e('[data-id="note"].is--addNote, .t4s-txt_add_note').addClass(f.none)):(e('[data-id="note"].is--editNote, .t4s-txt_edit_note').addClass(f.none),e('[data-id="note"].is--addNote, .t4s-txt_add_note').removeClass(f.none))}).catch(function(e){console.log("cart update error: ",e)})}function T(){e('textarea[name="note"]').on("change",function(){w(e(this).val())})}function b(){if(isStorageSpdLocal){var t=e("#CartDiscountcode"),n=e("#CartDiscountcode, [data-cart-discount]"),o=localStorage.getItem("CartDiscountcode");n.val(o),e('[data-action="save-discountcode"]').click(function(e){localStorage.setItem("CartDiscountcode",t.val()),n.val(t.val())})}}function S(){var t,n=e("[data-estimate-shipping-wrap]");n[0]&&(n[0].langRates=JSON.parse(n.find("template[data-lang-rates]").html()||"{}"),t=n.data("id"),Shopify&&new Shopify.CountryProvinceSelector(`ShippingCountry_${t}`,`ShippingProvince_${t}`,{hideElement:`ShippingProvinceContainer_${t}`}),n.on("click",'[data-action="estimate-shipping"]',function(t){t.preventDefault(),t.stopPropagation();var n=this,o=e(n),a=o.find("[data-response-rates]"),r={},s=e(t.currentTarget);s.addClass(f.loading),document.dispatchEvent(new CustomEvent("theme:loading:start")),r.country=o.find('[name="country"]').val()||"",r.province=o.find('[name="province"]').val()||"",r.zip=o.find('[name="zip"]').val()||"",fetch(window.T4Sroutes.cart_url+"/shipping_rates.json?"+e.param({shipping_address:r}),{credentials:"same-origin",method:"GET"}).then(function(t){document.dispatchEvent(new CustomEvent("theme:loading:end")),s.removeClass(f.loading),t.json().then(function(o){!function(t,n,o,a,r){t?function(t,n,o,a){var r="",s="",l="";n.zip&&(r+=n.zip+", ");n.province&&(r+=n.province+", ");if(r+=n.country,t.length>1){var c=T4SThemeSP.Currency.formatMoney(t[0].price);s=a.multiple_rates.replace("[number_of_rates]",t.length).replace("[address]",r).replace("[rate]",c)}else s=1===t.length?a.one_rate.replace("[address]",r):a.no_rates;var l="";e.each(t,function(e,t){var n=T4SThemeSP.Currency.formatMoney(t.price),o=a.rate_value.replace("[rate_title]",t.name).replace("[rate]",n);l+="<li>"+o+"</li>"}),o.html('<div class="t4s-mess__rates is--rates-success">'+s+'</div><div class="t4s-results__rates"><ul>'+l.toString().replace(/<\/li>,<li>/g,"</li><li>")+"</ul></div>").fadeIn(),i.trigger("currency:update")}(n.shipping_rates,o,a,r):function(e,t,n){var o="";Object.keys(e).forEach(function(t){o+="<li>".concat(t," ").concat(e[t],"</li>")}),"country is not supported."===o&&(o=`<li>${n.no_rates}</li>`);t.html(`<p>${n.errors}</p><ul class="t4s-mess__rates is--rates-error">${o}</ul>`).fadeIn()}(n,a,r)}(t.ok,o,r,a,n.langRates)})})}.bind(n[0])))}function x(){if(!h)return;let t=e("[data-cart-ship-done]").length;t>0&&l?(T4SThemeSP.CanvasConfetti(),l=!1,c=!1):e("[data-cart-calc-shipping]").length>0&&c?(T4SThemeSP.CanvasConfetti(),c=!1):0==t&&(c=!1,l=!0)}return{renderContents:y,getToFetch:v,init:function(){!function(){if("cart"==p)return T(),b(),S(),T4SThemeSP.agreeForm(),void x();IsDesignMode?g():d||fetch(T4SThemeSP.root_url+"?section_id=mini_cart",{method:"GET",headers:{"Cache-Control":"no-cache"}}).then(e=>e.text()).then(t=>{e("#t4s-mini_cart").parent().remove(),T4SThemeSP.$appendComponent.after(e(t).html()),g()}).catch(e=>{})}(),document.addEventListener("cart:refresh",function(e){v(!1)}),document.addEventListener("cart:refresh:opend",function(e){v(!0)})}}}(),T4SThemeSP.Login=function(){var t="data-login-sidebar";function n(){var n=e("#t4s-login-sidebar");T4SThemeSP.Drawer.remove("t4s-login-sidebar"),n.on("click","["+t+"]",function(n){n.preventDefault();var o=e(this).attr(t);e("#t4s-login-sidebar .t4s-content-login-sidebar.is--"+o).attr("aria-hidden","false").siblings().attr("aria-hidden","true"),e("#t4s-login-sidebar .t4s-drawer__header .is--"+o).attr("aria-hidden","false").siblings().attr("aria-hidden","true")})}return function(){IsDesignMode?n():fetch(T4SThemeSP.root_url+"?section_id=login-sidebar",{method:"GET",headers:{"Cache-Control":"no-cache"}}).then(e=>e.text()).then(e=>{T4SThemeSP.$appendComponent.after(e),T4SThemeSP.Drawer.remove("t4s-login-sidebar"),n()}).catch(e=>{})}}(),T4SThemeSP.Compare=function(){var t,n,o=!u.enable_compare,a=6,r="[data-link-compare]",s="[data-action-compare]",l="[data-remove-compare]",c="[data-count-compare]",d="[data-clear-compare]",p="[data-close-compare]",m="t4s_cp",h="is--pe-none",g="is--added",v="is--activate",y=T4SProductStrings.added_text_cp,w=T4SProductStrings.compare,T=0,b=f+"/?view=compare&type=product&options[unavailable_products]=last&q=",S="",x=u.cp_icon,C=u.cp_icon_added,_=u.enableCompePopup;function P(e,t,n){return n.indexOf(e)===t}function k(){var e=localStorage.getItem(m);if(null!=e){t=e.split(",");var n=e.replace(/,/g," OR "),o=encodeURI(n);S=b+o}}function I(){if(isStorageSpdLocalAll&&!o){var n=localStorage.getItem(m);if(null!=n){var i=n.replace(/id:/g,"");t=i.split(","),T=t.length,t.forEach(function(e,t){D(e.replace("id:",""))}),e(c).html(T)}}}function D(t){e(".t4s-tooltip.is--show .tooltip-inner").html(y);var n=e(s+'[data-id="'+t+'"]:not(.'+g+")");n.addClass(g).removeClass(h).find(".t4s-text-pr").text(y),n.find(".t4s-svg-pr-icon").html(C)}function A(t,o=!1){_&&fetch(t.replace("view=compare","section_id=compare-popup"),{method:"GET",headers:{"Cache-Control":"no-cache"}}).then(e=>e.text()).then(t=>{o&&n&&n.remove(),T4SThemeSP.$appendComponent.after(t),n=e(".t4s_section__compare-popup"),o&&setTimeout(function(){n.addClass(v)},20)}).catch(e=>{})}return{init:function(){isStorageSpdLocalAll&&!o&&(history.replaceState&&"boolean"==typeof isPageCompare&&window.history.replaceState({},document.title,f+"/?view=compare"),k(),"boolean"!=typeof isPageCompare||"boolean"!=typeof isEmtyCompare||""==t.toString()||IsDesignMode||(window.location.href=S),i.on("click",s+"."+g,function(e){e.preventDefault(),_?n.addClass(v):window.location.href=S}),i.on("click",r,function(e){e.preventDefault(),window.location.href=S}),i.on("click",d,function(o){o.preventDefault(),n.removeClass(v);let i=t.length;for(let n=0;n<i;n++){let o=t[n].replace("id:","");e(s+'[data-id="'+o+'"]').removeClass(g).find(".t4s-text-pr").text(w),e(s+'[data-id="'+o+'"]').find(".t4s-svg-pr-icon").html(x)}t=[],localStorage.setItem(m,t.toString()),T=0,e(c).html(T),k()}),i.on("click",p,function(e){e.preventDefault(),n.removeClass(v)}),null!=localStorage.getItem(m)&&""!=t.toString()&&A(S),i.on("click",s+":not(."+g+")",function(t){t.preventDefault();var n=e(this),o=n.data("id")||"",i="id:"+o,r=localStorage.getItem(m),l=!1;if(""!=o){if(n.addClass(h),null!=r&&r.length>0)(d=r.split(",")).unshift(i);else{var d=new Array;d.unshift(i)}if((d=d.filter(P)).length>a&&(d=d.splice(0,a),l=!0),localStorage.setItem(m,d.toString()),T=d.length,l){var u=e(s+g);u.removeClass(g).find(".t4s-text-pr").text(w),u.find(".t4s-svg-pr-icon").html(x),I()}else D(o);e(c).html(T),k(),A(S,!0),"boolean"==typeof isPageCompare&&(window.location.href=S)}}),i.on("click",l,function(o){o.preventDefault();var i=e(this),r=i.data("id"),l="id:"+r,d=localStorage.getItem(m);i.addClass(h);var u=(t=d.split(",")).indexOf(l);u>-1?(t=t.splice(0,a+1)).splice(u,1):t=t.splice(0,a),localStorage.setItem(m,t.toString()),i.removeClass(h),e(".t4s_compare_id_"+r).remove(),e(s+'[data-id="'+r+'"]').removeClass(g).find(".t4s-text-pr").text(w),e(s+'[data-id="'+r+'"]').find(".t4s-svg-pr-icon").html(x),T=t.length,e(c).html(T),k(),"boolean"==typeof isPageCompare&&""==t.toString()&&(e(".t4s_compare_table").fadeTo(300,0),window.location.href=S),0==T&&_&&n.removeClass(v)}))},updateAll:I}}(),T4SThemeSP.Wishlist=function(){var t,n=u.wishlist_mode,o="2"==u.wis_atc_added,a="1"==n,r="2"==n,s=!(a||r),l=50,c="[data-link-wishlist]",d="data-action-wishlist",p="[data-action-wishlist]",m="data-remove-wishlist",h="[data-remove-wishlist]",g="[data-count-wishlist]",v="t4s_wis",y="is--pe-none",w="is--added",T=T4SProductStrings.browse_wishlist,b=T4SProductStrings.remove_wishlist,S=T4SProductStrings.add_to_wishlist,x=o?b:T,C=0,_=f+"/?view=wishlist&type=product&options[unavailable_products]=last&q=",P="",k=u.wis_icon,I=u.wis_icon_remove,D=u.wis_icon_added,A="is--loading",E="https://nitro-wishlist.teathemes.net?shop="+Shopify.shop,M="";if(r){var O=e("#wis_t4s_list"),R=O.data("cusid"),$=O.data("email"),L=O.html()||"";M=L.length>0?L.split(" "):[]}function F(e,t,n){return n.indexOf(e)===t}function N(){i.on("click",p+":not(."+w+")",function(t){t.preventDefault(),a?function(t){var n=t.data("id")||"",o="id:"+n,i=localStorage.getItem(v),a=!1;if(""==n)return;if(t.addClass(y),null!=i&&i.length>0)(r=i.split(",")).unshift(o);else{var r=new Array;r.unshift(o)}(r=r.filter(F)).length>l&&(r=r.splice(0,l),a=!0);if(localStorage.setItem(v,r.toString()),C=r.length,a){var s=e(p+w);s.removeClass(w).find(".t4s-text-pr").text(S),s.find(".t4s-svg-pr-icon").html(k),H()}else W(n);e(g).html(C),q(),"boolean"==typeof isPageWishlist&&(window.location.href=P)}(e(this)):function(t){var n=t.attr("data-id")||"";if(""==n)return;t.addClass(A+" "+y),fetch(E,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:`id=${n}&handle=ntt4&action=add&email=${$}&customer_id=${R}`}).then(e=>e.json()).then((t,o)=>{"success"==t.status||"success"==o?(M=t.data.ids,Array.isArray(M)||(M=M.split(",")),W(n),C=M.length,e(g).html(C),U(),"boolean"==typeof isPageWishlist&&(window.location.href=P)):console.error(t.message)}).catch(e=>{404==e.status?alert("This feature is not available because there is no  Nitro Wishlist app installed. Please install Nitro Wishlist app first when using Wishlist in Shop."):console.log("Error: "+e.message)}).finally(()=>{t.removeClass(A+" "+y)})}(e(this))})}function z(n){var o=n.data("id"),a="id:"+o,r=localStorage.getItem(v);n.addClass(y);var s=(t=r.split(",")).indexOf(a);s>-1?(t=t.splice(0,l+1)).splice(s,1):t=t.splice(0,l),localStorage.setItem(v,t.toString()),n.removeClass(y);var c=e(".t4s-products-wishlist .t4s-products");c.hasClass("isotopet4s-enabled")?c.isotopet4s("remove",n.closest(".t4s-product")[0]).isotopet4s("layout"):c.length>0&&n.closest(".t4s-product").remove(),i.trigger("t4s:hideTooltip"),e(p+'[data-id="'+o+'"]').removeClass(w).find(".t4s-text-pr").text(S),e(p+'[data-id="'+o+'"]').find(".t4s-svg-pr-icon").html(k),C=t.length,e(g).html(C),q(),"boolean"==typeof isPageWishlist&&""==t.toString()&&(e(".t4s-products-wishlist").fadeTo(300,0),window.location.href=P)}function j(n){var o=n.attr("data-id")||"";n.addClass(A+" "+y),fetch(E,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:`id=${o}&handle=ntt4&action=remove&email=${$}&customer_id=${R}`}).then(e=>e.json()).then((a,r)=>{if("success"==a.status||"success"==r){t=a.data.ids,M=t;var s=e(".t4s-products-wishlist .t4s-products");s.hasClass("isotopet4s-enabled")?s.isotopet4s("remove",n.closest(".t4s-product")[0]).isotopet4s("layout"):s.length>0&&n.closest(".t4s-product").remove(),i.trigger("t4s:hideTooltip"),e(p+'[data-id="'+o+'"]').removeClass(w).find(".t4s-text-pr").text(S),e(p+'[data-id="'+o+'"]').find(".t4s-svg-pr-icon").html(k),C=M.length,e(g).html(C),U(),"boolean"==typeof isPageWishlist&&""==t.toString()&&(e(".t4s-products-wishlist").fadeTo(300,0),window.location.href=_)}else console.error(a.message)}).catch(e=>{console.log("Error: "+e.message)}).finally(()=>{n.removeClass(A+" "+y)})}function q(){var e=localStorage.getItem(v);if(null!=e){t=e.split(",");var n=e.replace(/,/g," OR "),o=encodeURI(n);P=_+o}}function U(){if(0!=(t=M).length){var e="id:"+t.join(" OR id:"),n=encodeURI(e);P=_+n}}function H(){if(!(!isStorageSpdLocalAll&&a||s)){if(a){var n=localStorage.getItem(v);if(null==n)return;var o=n.replace(/id:/g,"");t=o.split(","),C=""==n?0:t.length}else{if(""==(t=M).toString())return;C=t.length}if(t.forEach(function(e,t){W(e.replace("id:",""))}),"boolean"==typeof isPageWishlist){var i=e(".t4s-products-wishlist "+p);i.removeClass(w).removeAttr(d,"").attr(m,"").find(".t4s-text-pr").html(b),i.find(".t4s-svg-pr-icon").html(I)}e(g).html(C)}}function W(t){e(".t4s-tooltip.is--show .tooltip-inner").html(x);var n=e(p+'[data-id="'+t+'"]:not(.'+w+")");n.addClass(w).removeClass(y).find(".t4s-text-pr").text(x),n.find(".t4s-svg-pr-icon").html(D)}return{init:function(){!isStorageSpdLocalAll&&a||s||(history.replaceState&&"boolean"==typeof isPageWishlist&&window.history.replaceState({},document.title,f+"/?view=wishlist"),a?q():U(),"boolean"!=typeof isPageWishlist||"boolean"!=typeof isEmtyWishlist||""==t.toString()||IsDesignMode||(window.location.href=P),i.on("click",p+"."+w,function(t){t.preventDefault(),o?a?z(e(this)):j(e(this)):window.location.href=P}),i.on("click",c,function(e){0!=P.length&&(e.preventDefault(),window.location.href=P)}),N(),i.on("click",h,function(t){t.preventDefault(),a?z(e(this)):j(e(this))}))},updateAll:H}}(),T4SThemeSP.PopupPro=function(){var o=s.mfp_close,a=(s.mfp_loading,u.theme),r="open.popup",l="close.popup",c="is--loaded",d={click:"click.age",popup:"#t4s-popup__age",CookiesName:`${a}_age_verify`},p={mouseleave:"mouseleave.exit",click:"click.exit",popup:"#t4s-popup__exit",CookiesName:`${a}_exit`},f={scroll:"scroll.newsletter",click:"click.newsletter",popup:"#t4s-popup__newsletter",CookiesName:`${a}_newsletter`},h={popup:"#t4s-popup__cookies-law",click:"click.cookies"},g={popup:"#t4s-popup__sales-tmp",close:"[data-close-sale]"};function v(){e.magnificPopupT4s.open({items:{src:d.popup},type:"inline",closeOnBgClick:!1,closeBtnInside:!1,showCloseBtn:!1,enableEscapeKey:!1,removalDelay:500,tClose:o,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-horizontal t4s-age_pp_wrapper"},open:function(){d.$popup.find(".t4s-age_verify_allowed").on(d.click,function(){if(d.date_of_birth){var t=parseInt(e("#ageyear").val()),n=parseInt(e("#agemonth").val()),o=parseInt(e("#ageday").val()),i=new Date(t+d.age_limit,n,o);(new Date).getTime()-i.getTime()<0?(d.$popup.addClass("t4s-animated t4s-shake"),window.setTimeout(function(){d.$popup.removeClass("t4s-animated t4s-shake")},1e3)):(CookiesT4.set(d.CookiesName,"confirmed",{expires:parseInt(d.day_next),path:"/"}),e.magnificPopupT4s.close())}else CookiesT4.set(d.CookiesName,"confirmed",{expires:parseInt(d.day_next),path:"/"}),e.magnificPopupT4s.close()}),d.$popup.find(".t4s-age_verify_forbidden").on(d.click,function(){d.$popup.addClass("active_forbidden")})},beforeClose:function(){},close:function(){d.$popup.find(".t4s-age_verify_allowed, .t4s-age_verify_forbidden").off(d.click)}}})}function y(){e.magnificPopupT4s.open({items:{src:p.popup},type:"inline",removalDelay:500,tClose:o,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-horizontal t4s-exit_pp_wrapper"},open:function(){if(e(".t4s-exit_pp_wrapper .t4s-product").length>0&&T4SThemeSP.reinitProductGridItem(),e(".t4s-exit_pp_wrapper .flickityt4s").length>0){var t=e(".t4s-exit_pp_wrapper .flickityt4s")[0];t.flickityt4s=new T4SThemeSP.Carousel(t)}i.trigger("t4s:hideTooltip"),i.trigger("currency:update")},beforeClose:function(){},close:function(){n.off(p.mouseleave),CookiesT4.set(p.CookiesName,"shown",{expires:p.day_next,path:"/"})}}})}function T(){e.magnificPopupT4s.open({items:{src:f.popup},type:"inline",removalDelay:500,tClose:o,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-move-horizontal t4s-newsletter_pp_wrapper"},open:function(){i.on("mail.subscribe.success",function(e){CookiesT4.set(f.CookiesName,"shown",{expires:f.day_next,path:"/"})}),"1"!=m&&"2"!=m||e(".t4s-newsletter_pp_wrapper .t4s-newsletter__form").submit(function(e){CookiesT4.set(f.CookiesName,"shown",{expires:f.day_next,path:"/"})})},beforeClose:function(){e("[data-checked-newsletter]:checked").length>0&&CookiesT4.set(f.CookiesName,"shown",{expires:f.day_next,path:"/"})},close:function(){}}})}function b(){h.$popup.removeClass("on--hide").addClass("on--show"),h.$popup.on(h.click,".t4s-pp_cookies__accept-btn",function(e){e.preventDefault(),window.Shopify.customerPrivacy.setTrackingConsent(!0,S),document.addEventListener("trackingConsentAccepted",function(){console.log("trackingConsentAccepted event fired"),CookiesT4.set(h.CookiesName,"accepted",{expires:h.day_next,path:"/"})})}),h.$popup.on(h.click,".t4s-pp_cookies__decline-btn",function(e){e.preventDefault(),window.Shopify.customerPrivacy.setTrackingConsent(!1,S)})}function S(){h.$popup.addClass("on--hide").removeClass("on--show")}function x(){h.$popup=e(h.popup),0!=h.$popup.length&&(h.stts=h.$popup.data("stt"),h.day_next=h.stts.day_next||60,h.pp_version=h.stts.pp_version||1994,h.CookiesName=`${a}_cookies_${h.pp_version}`,"accepted"==CookiesT4.get(h.CookiesName)||h.$popup.hasClass(c)||(h.$popup.addClass(c),window.Shopify.loadFeatures([{name:"consent-tracking-api",version:"0.1"}],function(t){if(t)throw t;!function(){const t=window.Shopify.customerPrivacy.userCanBeTracked(),n=window.Shopify.customerPrivacy.getTrackingConsent();(!t&&"no_interaction"===n||IsDesignMode)&&(IsDesignMode?h.$popup.on(r,function(){h.$popup=e(h.popup),b()}).on(l,function(){S()}):b())}()})))}function C(e,t){return Math.floor(Math.random()*(t-e+1))+e}function _(e){var t=g.imageArray[e],n=T4SThemeSP.Images.getNewImageUrl(t,65),o=T4SThemeSP.Images.getNewImageUrl(t,130);g.$temp.find("[data-img-sale]").attr("src",n).attr("srcset",`${n} 1x, ${o} 2x`),g.$temp.find("[data-title-sale]").text(g.titleArray[e]),g.$temp.find("[data-href-sale]").attr("href",g.urlArray[e]),g.$temp.find("[data-action-quickview]").attr("data-id",g.idArray[e]),g.$temp.find("[data-location-sale]").text(g.locationArray[C(g.min,g.max2)]),g.$temp.find("[data-ago-sale]").text(g.timeArray[C(g.min,g.max3)])}function P(){i.trigger("t4s:hideTooltip"),g.$temp&&g.$temp.removeClass(g.classUp).addClass(g.classDown).off("mouseenter mouseleave")}function k(){P(),g.starTimeout=setTimeout(function(){g.$temp&&g.$temp.remove(),T4SThemeSP.$appendComponent.after(g.temp),T4SThemeSP.Tooltip(),g.$temp=e(".t4s-popup__sales"),"1"==g.ppType?(_(g.index),++g.index,g.index>g.max&&(g.index=0)):_(C(g.min,g.max)),g.time.START=(new Date).getTime(),g.time.END=g.time.START+g.stayTime,g.stayTimeout=setTimeout(function(){clearTimeout(g.stayTimeout),k()},g.stayTime),g.$progressbarSpan=e(".t4s-pp-slpr-progressbar>span"),g.pauseOnHover&&g.$temp.on("mouseenter",function(e){g.resetOnHover?g.$progressbarSpan.css("animation-name","none"):g.time.REMAINING=g.time.END-(new Date).getTime(),clearTimeout(g.stayTimeout)}).on("mouseleave",function(e){g.resetOnHover?(g.time.REMAINING=g.stayTime,g.$progressbarSpan.css("animation-name","t4s-ani-w")):g.time.END=(new Date).getTime()+g.time.REMAINING,g.stayTimeout=setTimeout(function(){k()},g.time.REMAINING)}),g.$temp.find(g.close).on("click",function(e){e.preventDefault(),P(),i.trigger("t4s:hideTooltip"),g.$temp.off("mouseenter mouseleave"),clearTimeout(g.stayTimeout),clearTimeout(g.starTimeout)})},g.starTime)}return function(){x(),function(){f.$popup=e(f.popup);var o=`${a}_shown_pages`,i=CookiesT4.get(o);if(i||(i=0),0==f.$popup.length)return i++,void CookiesT4.set(o,i,{expires:194,path:"/"});if(f.stts=f.$popup.data("stt"),f.pp_version=f.stts.pp_version,f.CookiesName=f.CookiesName+f.pp_version,location.search.indexOf("newsletter")>-1&&"#t4s-form-popups"==location.hash&&("1"==m||"2"==m)&&CookiesT4.set(f.CookiesName,"shown",{expires:f.day_next,path:"/"}),!(!IsDesignMode&&"shown"==CookiesT4.get(f.CookiesName)||!f.stts.isMobile&&t.width()<768||f.$popup.hasClass(c))){var s="1"==f.pp_version?"2":"1",d=`${a}_newsletter${s}`;if("shown"==CookiesT4.get(d)&&CookiesT4.remove(d),f.$popup.addClass(c),f.day_next=f.stts.day_next,f.scroll_delay=f.stts.scroll_delay,f.after=f.stts.after,IsDesignMode)f.$popup.on(r,function(){e.magnificPopupT4s.instance.isOpen?(e.magnificPopupT4s.close(),setTimeout(function(){f.$popup.off(r).off(l),f.$popup=e(f.popup),T(),f.$popup.on(r,function(){T()}).on(l,function(){e.magnificPopupT4s.close()})},e.magnificPopupT4s.instance.st.removalDelay+10)):T()}).on(l,function(){e.magnificPopupT4s.close()});else{var u=f.stts.number_pages;if(i<u)return i++,CookiesT4.set(o,i,{expires:194,path:"/"}),!1;CookiesT4.set(o,u,{expires:194,path:"/"}),"scroll"==f.after?t.on(f.scroll,function(){n.scrollTop()<f.scroll_delay||(T(),t.off(f.scroll))}):setTimeout(function(){T()},f.stts.time_delay),e("[data-triger-newsletter]").on("click",function(e){e.preventDefault(),T()})}}}(),p.$popup=e(p.popup),0!=p.$popup.length&&(!IsDesignMode&&"shown"==CookiesT4.get(p.CookiesName)||p.$popup.hasClass(c)||(p.stts=p.$popup.data("stt"),p.day_next=p.stts.day_next,p.$popup.addClass(c),IsDesignMode?p.$popup.on(r,function(){e.magnificPopupT4s.instance.isOpen?(e.magnificPopupT4s.close(),setTimeout(function(){p.$popup.off(r).off(l),p.$popup=e(p.popup),y(),p.$popup.on(r,function(){y()}).on(l,function(){e.magnificPopupT4s.close()})},e.magnificPopupT4s.instance.st.removalDelay+10)):y()}).on(l,function(){e.magnificPopupT4s.close()}):n.on(p.mouseleave,function(t){t.clientY<60&&0==e(".mfp-content").length&&y()}))),d.$popup=e(d.popup),0!=d.$popup.length&&(!IsDesignMode&&"confirmed"==CookiesT4.get(d.CookiesName)||d.$popup.hasClass(c)||(d.stts=d.$popup.data("stt"),d.age_limit=d.stts.age_limit,d.date_of_birth=d.stts.date_of_birth,d.day_next=d.stts.day_next,d.$popup.addClass(c),IsDesignMode?d.$popup.on(r,function(){e.magnificPopupT4s.instance.isOpen?(e.magnificPopupT4s.close(),setTimeout(function(){d.$popup.off(r).off(l),d.$popup=e(d.popup),v(),d.$popup.on(r,function(){v()}).on(l,function(){e.magnificPopupT4s.close()})},e.magnificPopupT4s.instance.st.removalDelay+10)):v()}).on(l,function(){e.magnificPopupT4s.close()}):v())),function(){if(g.$popup=e(g.popup),0==g.$popup.length)return;let n=e("#t4s-popup__sales-JSON");g.stts=w(n.html()),n.remove(),!g.stts.isMobile&&t.width()<768||g.$popup.hasClass(c)||(g.$popup.addClass(c),g.temp=g.$popup.html(),g.starTime=g.stts.starTime*g.stts.starTimeUnit,g.stayTime=g.stts.stayTime*g.stts.stayTimeUnit,g.index=0,g.limit=g.stts.limit,g.max=g.stts.max,g.min=0,g.classUp=g.stts.classUp,g.classDown=g.stts.classDown[g.classUp],g.ppType=g.stts.ppType,g.pauseOnHover=g.stts.pauseOnHover,g.resetOnHover=g.stts.resetOnHover,g.idArray=g.stts.idArray,g.titleArray=g.stts.titleArray,g.urlArray=g.stts.urlArray,g.locationArray=g.stts.locationArray,g.timeArray=g.stts.timeArray,g.imageArray=g.stts.imageArray,g.max=g.urlArray.length-1,g.max2=g.locationArray.length-1,g.max3=g.timeArray.length-1,g.starTimeout,g.stayTimeout,g.time={},IsDesignMode?(T4SThemeSP.$appendComponent.after(g.temp),g.$temp=e(".t4s-popup__sales"),g.$temp.hide(),T4SThemeSP.Tooltip(),e(g.close).on("click",function(e){e.preventDefault(),P()}),g.$popup.on(r,function(){g.$temp.show(),g.$temp.addClass(g.classUp).removeClass(g.classDown)}).on(l,function(){P()})):(g.$popup.remove(),k()))}()}}(),T4SThemeSP.PopupFetch=function(){let e=T4Srequest.path;fetch(("/"!=e?e:"")+"/?section_id=popups",{method:"GET",headers:{"Cache-Control":"no-cache"}}).then(e=>e.text()).then(e=>{T4SThemeSP.$appendComponent.after(e),T4SThemeSP.PopupPro(),T4SThemeSP.PlatFormMail()}).catch(e=>{})},T4SThemeSP.PlatFormMail=function(){var t={loading:"is--loading",enabled:"is--enabled",errorCheckbox:"is--error-checkbox",errorEmail:"is--error-email"},n={klaviyo:"[data-t4s-klaviyo-submit]"},o={click:"click.mail",keyup:"keyup.mail"},a="[data-agreeMail-checkbox]";return function(){"4"==m&&e(`[data-t4s-mailChimp-ajax]:not(.${t.enabled})`).addClass(t.enabled).submit(function(n){n.preventDefault();var o=e(this),a=o.find("[data-new-response-form]"),r=o.find("[data-t4s-mailChimp-submit]"),s=a.find("[data-new-response-success]"),l=a.find("[data-new-response-error]");r.addClass(t.loading),e.ajax({type:"GET",url:o.attr("action"),data:o.serialize(),cache:!1,dataType:"jsonp",jsonp:"c",contentType:"application/json; charset=utf-8",error:function(e){r.removeClass(t.loading);try{var n=e.replace("0 - ","").replace("1 - ","").replace("2 - ","");l.html(n).slideDown(100)}catch(e){}},success:function(e){r.removeClass(t.loading);try{var n=e.msg.replace("0 - ","").replace("1 - ","").replace("2 - ","");"success"!=e.result?(s.slideUp(100),l.html(n).slideDown(100)):(i.trigger("mail.subscribe.success"),l.slideUp(100),s.slideDown(100))}catch(e){}}})}),"3"==m&&$script("//www.klaviyo.com/media/js/public/klaviyo_subscribe.js",function(){e.each(e(`[data-t4s-klaviyo-ajax]:not(.${t.enabled})`),function(){var o=e(this),a=o.attr("data-brand")||"Kalles Klaviyo";KlaviyoSubscribe.attachToForms("#"+o.attr("id"),{custom_success_message:!0,extra_properties:{$source:"Newsletter Popup",Brand:a},success:function(e){i.trigger("mail.subscribe.success"),e.find(n.klaviyo).removeClass(t.loading)}}),o.addClass(t.enabled).submit(function(o){e(this).find(n.klaviyo).addClass(t.loading)})}),i.on("klaviyo.subscribe.success",function(e){i.trigger("mail.subscribe.success")}),i.on("klaviyo.subscribe.success klaviyo.subscribe.error",function(o){e(o.target).find(n.klaviyo).removeClass(t.loading)})}),0!=e(a).length&&(e("[data-agreeMail-btn]").off(o.click).on(o.click,function(n){var o=e(this).closest("form");o.find(`[type="checkbox"]${a}`).is(":checked")||(n.preventDefault(),n.stopPropagation(),o.addClass(t.errorCheckbox),o.find('[type="email"]').val().length<1&&o.addClass(t.errorEmail))}),e(a).off(o.click).on(o.click,function(n){e(this).is(":checked")&&e(this).closest("form").removeClass(t.errorCheckbox)}),e('[data-form-mail-agree] [type="email"]').off(o.keyup).on(o.keyup,function(n){var o=e(this).closest("form");e(this).val().length<1?o.addClass(t.errorEmail):o.removeClass(t.errorEmail)})),"?contact%5Btags%5D=newsletter&form_type=customer"==location.search&&e("[data-new-response-form]").html(`<div class="t4s-newsletter__error">${s.error_exist}</div>`).slideDown(100)}}(),T4SThemeSP.GroupsProduct=function(){var t="[data-groups-total-price]",n="[data-groups-pr-item]",o="change.groups",a="is--checked";function r(o){this.$form=e(o),this.$totalPrice=this.$form.find(t),this.ArrayPrice=[],this.ArrayComparePrice=[];let i=this;this.$form.find(n).each(function(e){i._updateItemPrice(this,e)}),i._updateTotalPrice(),i._eventListeners()}return r.prototype=Object.assign({},r.prototype,{_eventListeners:function(){let t=this;this.$form.on(o,"select[data-groups-pr-sl]",function(){t._updateItem(this)}),this.$form.on(o,"[data-groups-pr-ck]",function(){let o=e(this).closest(n),i=o.index(),r=t.$form.find(`[data-groups-img="${i}"]`),s=o.find('[name*="items[]"]');this.checked?(o.addClass(a),t._updateItemPrice(o,i),r.fadeIn(300),s.prop("disabled",!1)):(o.removeClass(a),t.ArrayPrice[i]=0,t.ArrayComparePrice[i]=0,r.fadeOut(300),s.prop("disabled",!0)),t._updateTotalPrice()}),this.$form.on(o,"[data-groups-qty-value]",function(){let o=e(this).closest(n),i=o.index();t._updateItemPrice(o[0],i),t._updateTotalPrice()})},_updateItemPrice:function(t,n){let o=e(t),i=o.find("[data-groups-pr-sl]"),a=parseInt(o.find("[data-groups-qty-value]").val()),r=parseInt(i.attr("data-price")),s=parseInt(i.attr("data-cpprice"));r*=a,s*=a,this.ArrayPrice[n]=r,this.ArrayComparePrice[n]=s>r?s:r},_updateItem:function(t){let o=e(t),i=o.find(":selected"),a=o.closest(n),r=a.index(),s=i.data("img"),l=i.data("max"),c=a.find("[data-groups-qty-value]"),d=c.val(),u=this.$form.find(`[data-groups-img="${r}"] img`),p=parseInt(i.data("price")),f=parseInt(i.data("cpprice")),m=a.find("[data-groups-item-price]");c.attr("max",l),u.attr("data-orginal")!=s&&u.attr({"data-src":s,"data-orginal":s}).removeClass("lazyloadt4sed").addClass("lazyloadt4s"),f=f>p?f:p,p*=d,f*=d,this.ArrayPrice[r]==p&&this.ArrayComparePrice[r]==f||(o.attr({"data-price":p,"data-cpprice":f}),this.ArrayPrice[r]=p,this.ArrayComparePrice[r]=f,f>p?m.html("<del>"+T4SThemeSP.Currency.formatMoney(f)+"</del> <ins>"+T4SThemeSP.Currency.formatMoney(p)+"</ins>"):m.html(T4SThemeSP.Currency.formatMoney(p)),this._updateTotalPrice())},_updateTotalPrice:function(){let e=this.ArrayPrice.reduce((e,t)=>e+t,0),t=this.ArrayComparePrice.reduce((e,t)=>e+t,0);t>e?this.$totalPrice.html("<del>"+T4SThemeSP.Currency.formatMoney(t)+"</del> <ins>"+T4SThemeSP.Currency.formatMoney(e)+"</ins>"):this.$totalPrice.html(T4SThemeSP.Currency.formatMoney(e)),i.trigger("currency:update")}}),r}(),T4SThemeSP.initGroupsProduct=function(){0!=e("[data-groups-pr-form]:not(.is--enabled)").length&&e("[data-groups-pr-form]:not(.is--enabled)").each(function(t){e(this).addClass("is--enabled"),new T4SThemeSP.GroupsProduct(this)})},T4SThemeSP.goToID=function(){var t,n,o="[data-go-id]",i=e("html,body"),a=0;return function(){0!=(t=e(o)).length&&t.click(function(t){t.preventDefault(),t.stopPropagation();let o=e(this).data("go-id")||e(this).attr("href"),r=e(o);0!=r.length&&(r.is(":hidden")&&(e(`[data-t4s-tab-item][href="${o}"]:visible`).trigger("click"),a=100),clearTimeout(n),n=setTimeout(function(){i.animate({scrollTop:r.offset().top-100,duration:400})},a))})}}(),T4SThemeSP.CanvasConfetti=function(){var e,n,o,i,a,r,s=window.innerWidth<988?75:150,l=[],c=0,d=!0,u=!0,p=!1,f={colorOptions:["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"],colorIndex:0,colorIncrementer:0,colorThreshold:10,getColor:function(){return this.colorIncrementer>=10&&(this.colorIncrementer=0,this.colorIndex++,this.colorIndex>=this.colorOptions.length&&(this.colorIndex=0)),this.colorIncrementer++,this.colorOptions[this.colorIndex]}};function m(e){var t,a;this.x=Math.random()*o,this.y=Math.random()*i-i,this.r=(t=10,a=30,Math.floor(Math.random()*(a-t+1)+t)),this.d=Math.random()*s+10,this.color=e,this.tilt=Math.floor(10*Math.random())-10,this.tiltAngleIncremental=.07*Math.random()+.05,this.tiltAngle=0,this.draw=function(){return n.beginPath(),n.lineWidth=this.r/2,n.strokeStyle=this.color,n.moveTo(this.x+this.tilt+this.r/4,this.y),n.lineTo(this.x+this.tilt,this.y+this.tilt+this.r/4),n.stroke()}}function h(e,t){(e.x>o+20||e.x<-20||e.y>i)&&d&&(t%5>0||t%2==0?v(e,Math.random()*o,-10,Math.floor(10*Math.random())-10):Math.sin(c)>0?v(e,-5,Math.random()*i,Math.floor(10*Math.random())-10):v(e,o+5,Math.random()*i,Math.floor(10*Math.random())-10))}function g(e,t){e.tiltAngle+=e.tiltAngleIncremental,e.y+=(Math.cos(c+e.d)+3+e.r/2)/2,e.x+=Math.sin(c),e.tilt=15*Math.sin(e.tiltAngle-t/3)}function v(e,t,n,o){e.x=t,e.y=n,e.tilt=o}function y(){clearTimeout(a),clearTimeout(r)}function w(){u=!0,null!=n&&(n.clearRect(0,0,o,i),e.style.display="none")}return window.requestAnimFrameT4=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},function(){if(p)return y(),w(),a=setTimeout(function(){d=!0,u=!1,function(){e.style.display="block",l=[],u=!1;for(var t=0;t<s;t++){var a=f.getColor();l.push(new m(a))}o=window.innerWidth,i=window.innerHeight,e.width=o,e.height=i,function e(){return u?null:(r=requestAnimFrameT4(e),function(){n.clearRect(0,0,o,i);for(var e=[],t=0;t<s;t++)a=t,e.push(l[a].draw());var a;return function(){var e,t=0;c+=.01,.1;for(var n=0;n<s;n++){if(e=l[n],u)return;!d&&e.y<-15?e.y=i+100:(g(e,n),e.y<=i&&t++,h(e,n))}0===t&&w()}(),e}())}()}()},100),void setTimeout(function(){d=!1,y()},3500);T4SThemeSP.$appendComponent.after('<canvas id="confettiCanvas" style="position:fixed;top:0;left:0;display:none;z-index:9999;pointer-events: none;"></canvas>'),e=document.getElementById("confettiCanvas"),n=e.getContext("2d"),o=window.innerWidth,i=window.innerHeight,e.width=o,e.height=i,t.resize(function(){o=window.innerWidth,i=window.innerHeight,e.width=o,e.height=i}),p=!0}}()}(jQuery_T4NT),jQuery_T4NT(document).ready(function(){T4SThemeSP.Drawer.init(),T4SThemeSP.Header.stickyInit(),T4SThemeSP.MobileNav(),T4SThemeSP.Cart.init(),T4SThemeSP.agreeForm(),T4SThemeSP.Login(),T4SThemeSP.Compare.init(),T4SThemeSP.Wishlist.init(),T4SThemeSP.recentlyViewed(),T4SThemeSP.productRecommendations(),T4SThemeSP.ProductItem.init(),T4SThemeSP.ProductItem.loadjsRevew(),T4SThemeSP.Tooltip(),T4SThemeSP.ProductItem.clickMoreSwatches(),T4SThemeSP.ProductItem.swatchesClickHover(),T4SThemeSP.ProductItem.resizeObserver(),T4SThemeSP.ProductItem.initQuickVS(),T4SThemeSP.ProductAjax.init(),T4SThemeSP.T4sQuantityAdjust(),T4SThemeSP.PhotoSwipe.gallery(),T4SThemeSP.PhotoSwipe.images(),T4SThemeSP.PhotoSwipe.image(),T4SThemeSP.Video.initPoster(),T4SThemeSP.initLoadMore(),jQuery_T4NT(".t4s-section-main [data-ntajax-container]").length>0&&$script(T4Sconfigs.script7,"t4s:facets"),T4SThemeSP.instagram(),T4SThemeSP.sideBarInit(),T4SThemeSP.LookBook(),T4SThemeSP.initGroupsProduct(),IsDesignMode?T4SThemeSP.PopupPro():setTimeout(function(){T4SThemeSP.PopupFetch()},1500),setTimeout(function(){T4SThemeSP.PlatFormMail(),T4SThemeSP.goToID()},500),T4SThemeSP.isHover&&jQuery_T4NT("[data-zoom-options]").length>0&&$script(T4Sconfigs.script5,"t4s:zoom"),T4SThemeSP.BackToTop(),T4SThemeSP.Header.init(),T4SThemeSP.currencyForm(),"2"==T4Sconfigs.currency_type&&$script(T4Sconfigs.script12a),"none"!=T4Sconfigs.script11&&$script(T4Sconfigs.script11,"t4s:customjs")}),jQuery_T4NT(window).resize(function(){T4SThemeSP.ProductItem.recalculateSwatches(!0)});